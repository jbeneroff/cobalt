{
  "version": 3,
  "sources": [
    "../src/index.tsx"
  ],
  "names": [
    "Split",
    "props",
    "dragging",
    "onDragEnd",
    "bind",
    "onDragging",
    "removeEvent",
    "window",
    "removeEventListener",
    "paneNumber",
    "env",
    "target",
    "warpper",
    "startX",
    "clientX",
    "startY",
    "clientY",
    "move",
    "parentNode",
    "prevTarget",
    "previousElementSibling",
    "nextTarget",
    "nextElementSibling",
    "boxWidth",
    "clientWidth",
    "boxHeight",
    "clientHeight",
    "preWidth",
    "preHeight",
    "nextWidth",
    "nextHeight",
    "addEventListener",
    "setState",
    "state",
    "mode",
    "x",
    "y",
    "preSize",
    "nextSize",
    "style",
    "width",
    "height",
    "prefixCls",
    "className",
    "children",
    "visiable",
    "renderBar",
    "lineBar",
    "disable",
    "other",
    "cls",
    "filter",
    "Boolean",
    "join",
    "trim",
    "child",
    "React",
    "Children",
    "toArray",
    "node",
    "map",
    "element",
    "idx",
    "Object",
    "assign",
    "visiableBar",
    "includes",
    "barProps",
    "BarCom",
    "onMouseDown",
    "createElement",
    "cloneElement",
    "Component"
  ],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;;;;;IAgCqBA,K;;;;;AAyBnB,iBAAYC,KAAZ,EAA+B;AAAA;;AAAA;AAC7B,8BAAMA,KAAN;AAD6B,wFAnBJ;AACzBC,MAAAA,QAAQ,EAAE;AADe,KAmBI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAE7B,UAAKC,SAAL,GAAiB,MAAKA,SAAL,CAAeC,IAAf,6CAAjB;AACA,UAAKC,UAAL,GAAkB,MAAKA,UAAL,CAAgBD,IAAhB,6CAAlB;AAH6B;AAI9B;;;;WACD,gCAA8B;AAC5B,WAAKE,WAAL;AACD;;;WACD,uBAAsB;AACpBC,MAAAA,MAAM,CAACC,mBAAP,CAA2B,WAA3B,EAAwC,KAAKH,UAA7C,EAAyD,KAAzD;AACAE,MAAAA,MAAM,CAACC,mBAAP,CAA2B,SAA3B,EAAsC,KAAKL,SAA3C,EAAsD,KAAtD;AACD;;;WACD,qBAAYM,UAAZ,EAAgCC,GAAhC,EAAmF;AACjF,UAAI,CAACA,GAAG,CAACC,MAAL,IAAe,CAAC,KAAKC,OAAzB,EAAkC;AAChC;AACD;;AACD,WAAKH,UAAL,GAAkBA,UAAlB;AACA,WAAKI,MAAL,GAAcH,GAAG,CAACI,OAAlB;AACA,WAAKC,MAAL,GAAcL,GAAG,CAACM,OAAlB;AACA,WAAKC,IAAL,GAAY,IAAZ;AACA,WAAKN,MAAL,GAAeD,GAAG,CAACC,MAAL,CAA+BO,UAA7C;AACA,UAAMC,UAAU,GAAG,KAAKR,MAAL,CAAYS,sBAA/B;AACA,UAAMC,UAAU,GAAG,KAAKV,MAAL,CAAYW,kBAA/B;AACA,WAAKC,QAAL,GAAgB,KAAKX,OAAL,CAAaY,WAA7B;AACA,WAAKC,SAAL,GAAiB,KAAKb,OAAL,CAAac,YAA9B;;AACA,UAAIP,UAAJ,EAAgB;AACd,aAAKQ,QAAL,GAAgBR,UAAU,CAACK,WAA3B;AACA,aAAKI,SAAL,GAAiBT,UAAU,CAACO,YAA5B;AACD;;AACD,UAAIL,UAAJ,EAAgB;AACd,aAAKQ,SAAL,GAAiBR,UAAU,CAACG,WAA5B;AACA,aAAKM,UAAL,GAAkBT,UAAU,CAACK,YAA7B;AACD;;AACDnB,MAAAA,MAAM,CAACwB,gBAAP,CAAwB,WAAxB,EAAqC,KAAK1B,UAA1C;AACAE,MAAAA,MAAM,CAACwB,gBAAP,CAAwB,SAAxB,EAAmC,KAAK5B,SAAxC,EAAmD,KAAnD;AACA,WAAK6B,QAAL,CAAc;AAAE9B,QAAAA,QAAQ,EAAE;AAAZ,OAAd;AACD;;;WACD,oBAAWQ,GAAX,EAAuB;AACrB,UAAI,CAAC,KAAKO,IAAV,EAAgB;AACd;AACD;;AACD,UAAI,CAAC,KAAKgB,KAAL,CAAW/B,QAAhB,EAA0B;AACxB,aAAK8B,QAAL,CAAc;AAAE9B,UAAAA,QAAQ,EAAE;AAAZ,SAAd;AACD;;AACD,wBAA6B,KAAKD,KAAlC;AAAA,UAAQiC,IAAR,eAAQA,IAAR;AAAA,UAAc7B,UAAd,eAAcA,UAAd;AACA,UAAMgB,UAAU,GAAG,KAAKV,MAAL,CAAYW,kBAA/B;AACA,UAAMH,UAAU,GAAG,KAAKR,MAAL,CAAYS,sBAA/B;AACA,UAAMe,CAAC,GAAIzB,GAAD,CAAoBI,OAApB,GAA8B,KAAKD,MAA7C;AACA,UAAMuB,CAAC,GAAI1B,GAAD,CAAoBM,OAApB,GAA8B,KAAKD,MAA7C;AACA,WAAKsB,OAAL,GAAe,CAAf;AACA,WAAKC,QAAL,GAAgB,CAAhB;;AACA,UAAIJ,IAAI,KAAK,YAAb,EAA2B;AACzB,aAAKG,OAAL,GAAe,KAAKV,QAAL,GAAgBQ,CAAhB,GAAoB,CAAC,CAArB,GAAyB,KAAKR,QAAL,GAAgBQ,CAAzC,GAA6C,CAA5D;AACA,aAAKG,QAAL,GAAgB,KAAKT,SAAL,GAAiBM,CAAjB,GAAqB,CAAC,CAAtB,GAA0B,KAAKN,SAAL,GAAiBM,CAA3C,GAA+C,CAA/D;;AACA,YAAI,KAAKE,OAAL,KAAiB,CAAjB,IAAsB,KAAKC,QAAL,KAAkB,CAA5C,EAA+C;AAC7C;AACD;;AACD,aAAKD,OAAL,GAAe,CAAC,KAAKA,OAAL,GAAe,KAAKd,QAApB,IAAgC,CAAhC,GAAoC,CAApC,GAAwC,KAAKc,OAAL,GAAe,KAAKd,QAA7D,IAAyE,GAAxF;AACA,aAAKe,QAAL,GAAgB,CAAC,KAAKA,QAAL,GAAgB,KAAKf,QAArB,IAAiC,CAAjC,GAAqC,CAArC,GAAyC,KAAKe,QAAL,GAAgB,KAAKf,QAA/D,IAA2E,GAA3F;;AACA,YAAIJ,UAAU,IAAIE,UAAlB,EAA8B;AAC5BF,UAAAA,UAAU,CAACoB,KAAX,CAAiBC,KAAjB,aAA4B,KAAKH,OAAjC;AACAhB,UAAAA,UAAU,CAACkB,KAAX,CAAiBC,KAAjB,aAA4B,KAAKF,QAAjC;AACD;AACF;;AACD,UAAIJ,IAAI,KAAK,UAAT,IAAuB,KAAKN,SAAL,GAAiBQ,CAAjB,GAAqB,CAAC,CAA7C,IAAkD,KAAKN,UAAL,GAAkBM,CAAlB,GAAsB,CAAC,CAA7E,EAAgF;AAC9E,aAAKC,OAAL,GAAe,KAAKT,SAAL,GAAiBQ,CAAjB,GAAqB,CAAC,CAAtB,GAA0B,KAAKR,SAAL,GAAiBQ,CAA3C,GAA+C,CAA9D;AACA,aAAKE,QAAL,GAAgB,KAAKR,UAAL,GAAkBM,CAAlB,GAAsB,CAAC,CAAvB,GAA2B,KAAKN,UAAL,GAAkBM,CAA7C,GAAiD,CAAjE;AACA,aAAKC,OAAL,GAAe,CAAC,KAAKA,OAAL,GAAe,KAAKZ,SAApB,IAAiC,CAAjC,GAAqC,CAArC,GAAyC,KAAKY,OAAL,GAAe,KAAKZ,SAA9D,IAA2E,GAA1F;AACA,aAAKa,QAAL,GAAgB,CAAC,KAAKA,QAAL,GAAgB,KAAKb,SAArB,IAAkC,CAAlC,GAAsC,CAAtC,GAA0C,KAAKa,QAAL,GAAgB,KAAKb,SAAhE,IAA6E,GAA7F;;AACA,YAAI,KAAKY,OAAL,KAAiB,CAAjB,IAAsB,KAAKC,QAAL,KAAkB,CAA5C,EAA+C;AAC7C;AACD;;AACD,YAAInB,UAAU,IAAIE,UAAlB,EAA8B;AAC5BF,UAAAA,UAAU,CAACoB,KAAX,CAAiBE,MAAjB,aAA6B,KAAKJ,OAAlC;AACAhB,UAAAA,UAAU,CAACkB,KAAX,CAAiBE,MAAjB,aAA6B,KAAKH,QAAlC;AACD;AACF;;AACDjC,MAAAA,UAAU,IAAIA,UAAU,CAAC,KAAKgC,OAAN,EAAe,KAAKC,QAApB,EAA8B,KAAK7B,UAAnC,CAAxB;AACD;;;WACD,qBAAY;AACV,UAAQN,SAAR,GAAsB,KAAKF,KAA3B,CAAQE,SAAR;AACA,WAAKc,IAAL,GAAY,KAAZ;AACAd,MAAAA,SAAS,IAAIA,SAAS,CAAC,KAAKkC,OAAN,EAAe,KAAKC,QAApB,EAA8B,KAAK7B,UAAnC,CAAtB;AACA,WAAKH,WAAL;AACA,WAAK0B,QAAL,CAAc;AAAE9B,QAAAA,QAAQ,EAAE;AAAZ,OAAd;AACD;;;WACD,kBAAS;AAAA;;AACP,yBAAyH,KAAKD,KAA9H;AAAA,UAAQyC,SAAR,gBAAQA,SAAR;AAAA,UAAmBC,SAAnB,gBAAmBA,SAAnB;AAAA,UAA8BC,QAA9B,gBAA8BA,QAA9B;AAAA,UAAwCV,IAAxC,gBAAwCA,IAAxC;AAAA,UAA8CW,QAA9C,gBAA8CA,QAA9C;AAAA,UAAwDC,SAAxD,gBAAwDA,SAAxD;AAAA,UAAmEC,OAAnE,gBAAmEA,OAAnE;AAAA,UAA4EC,OAA5E,gBAA4EA,OAA5E;AAAA,UAAqF7C,SAArF,gBAAqFA,SAArF;AAAA,UAAgGE,UAAhG,gBAAgGA,UAAhG;AAAA,UAA+G4C,KAA/G;AACA,UAAQ/C,QAAR,GAAqB,KAAK+B,KAA1B,CAAQ/B,QAAR;AACA,UAAMgD,GAAG,GAAG,CAACR,SAAD,EAAYC,SAAZ,YAA0BD,SAA1B,cAAuCR,IAAvC,GAA+ChC,QAAQ,GAAG,UAAH,GAAgB,IAAvE,EAA6EiD,MAA7E,CAAoFC,OAApF,EACXC,IADW,CACN,GADM,EAEXC,IAFW,EAAZ;;AAGA,UAAMC,KAAK,GAAGC,eAAMC,QAAN,CAAeC,OAAf,CAAuBd,QAAvB,CAAd;;AACA,0BACE;AAAK,QAAA,SAAS,EAAEM;AAAhB,SAAyBD,KAAzB;AAAgC,QAAA,GAAG,EAAE,aAAAU,IAAI;AAAA,iBAAI,MAAI,CAAC/C,OAAL,GAAe+C,IAAnB;AAAA,SAAzC;AAAA,kBACGH,eAAMC,QAAN,CAAeG,GAAf,CAAmBL,KAAnB,EAA0B,UAACM,OAAD,EAAeC,GAAf,EAA+B;AACxD,cAAM7D,KAAK,GAAG8D,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBH,OAAO,CAAC5D,KAA1B,EAAiC;AAC7C0C,YAAAA,SAAS,EAAE,WAAID,SAAJ,YAAsBmB,OAAO,CAAC5D,KAAR,CAAc0C,SAApC,EAA+CQ,MAA/C,CAAsDC,OAAtD,EACVC,IADU,CACL,GADK,EAEVC,IAFU,EADkC;AAI7Cf,YAAAA,KAAK,kCAAOsB,OAAO,CAAC5D,KAAR,CAAcsC,KAArB;AAJwC,WAAjC,CAAd;AAMA,cAAM0B,WAAW,GAAIpB,QAAQ,KAAK,IAAb,IAAsBA,QAAQ,IAAIA,QAAQ,CAACqB,QAAT,CAAmBJ,GAAG,GAAG,CAAzB,CAAnC,IAA8E,KAAlG;AACA,cAAMK,QAAQ,GAAG;AACfxB,YAAAA,SAAS,EAAE,WAAID,SAAJ,WACXK,OAAO,aAAML,SAAN,iBAA6B,IADzB,EAEX,CAACK,OAAD,aAAcL,SAAd,kBAAsC,IAF3B,EAEiCS,MAFjC,CAEwCC,OAFxC,EAGVC,IAHU,CAGL,GAHK,EAIVC,IAJU;AADI,WAAjB;;AAOA,cAAIN,OAAO,KAAK,IAAZ,IAAqBA,OAAO,IAAIA,OAAO,CAACkB,QAAR,CAAkBJ,GAAG,GAAG,CAAxB,CAApC,EAA2E;AACzEK,YAAAA,QAAQ,CAACxB,SAAT,GAAqB,CAACwB,QAAQ,CAACxB,SAAV,EAAqBK,OAAO,GAAG,SAAH,GAAe,IAA3C,EAAiDG,MAAjD,CAAwDC,OAAxD,EACpBC,IADoB,CACf,GADe,EAEpBC,IAFoB,EAArB;AAGD;;AACD,cAAIc,MAAM,GAAG,IAAb;;AACA,cAAIN,GAAG,KAAK,CAAR,IAAaG,WAAb,IAA4BnB,SAAhC,EAA2C;AACzCsB,YAAAA,MAAM,GAAGtB,SAAS,6DAAMqB,QAAN;AAAgBE,cAAAA,WAAW,EAAG,MAAI,CAACA,WAAL,CAAiBjE,IAAjB,CAAsB,MAAtB,EAA4B0D,GAAG,GAAG,CAAlC;AAA9B,eAAlB;AACD,WAFD,MAEO,IAAIA,GAAG,KAAK,CAAR,IAAaG,WAAjB,EAA8B;AACnCG,YAAAA,MAAM,gBAAGZ,eAAMc,aAAN,CAAoB,KAApB,kCAAgCH,QAAhC,gBAA4C;AAAK,cAAA,WAAW,EAAE,MAAI,CAACE,WAAL,CAAiBjE,IAAjB,CAAsB,MAAtB,EAA4B0D,GAAG,GAAG,CAAlC;AAAlB,cAA5C,CAAT;AACD;;AACD,8BACE,sBAAC,cAAD,CAAO,QAAP;AAAA,uBACGM,MADH,eAEGZ,eAAMe,YAAN,CAAmBV,OAAnB,kCAAiC5D,KAAjC,EAFH;AAAA,YADF;AAMD,SAhCA;AADH,SADF;AAqCD;;;EA3JgCuD,eAAMgB,S;;;8BAApBxE,K,kBACsB;AACvC0C,EAAAA,SAAS,EAAE,SAD4B;AAEvCG,EAAAA,QAAQ,EAAE,IAF6B;AAGvCX,EAAAA,IAAI,EAAE;AAHiC,C",
  "sourcesContent": [
    "import React from 'react';\nimport './style/index.less';\n\nexport interface SplitProps extends  Omit<React.HTMLAttributes<HTMLDivElement>, 'onDragEnd'> {\n  style?: React.CSSProperties;\n  className?: string;\n  prefixCls?: string;\n  /**\n   * 拖拽宽度/高度变化回调函数，宽度或者高度根据 mode 参数来确定\n   */\n  onDragging?: (preSize: number, nextSize: number, paneNumber: number) => void;\n  /** 拖拽结束的回调函数 */\n  onDragEnd?: (preSize: number, nextSize: number, paneNumber: number) => void;\n  /** 支持自定义拖拽工具栏 */\n  renderBar?: (props: React.HTMLAttributes<HTMLDivElement>) => JSX.Element;\n  /** 设置拖拽的工具条，为线条样式。 */\n  lineBar?: boolean;\n  /** 设置拖拽的工具条，是否可见 */\n  visiable?: boolean | number[];\n  /**\n   * 设置拖拽的工具条，禁用\n   */\n  disable?: boolean | number[];\n  /**\n   * 类型，可选值为 `horizontal` 或 `vertical`\n   */\n  mode?: 'horizontal' | 'vertical';\n}\nexport interface SplitState {\n  dragging: boolean;\n}\n\nexport default class Split extends React.Component<SplitProps, SplitState> {\n  public static defaultProps: SplitProps = {\n    prefixCls: 'w-split',\n    visiable: true,\n    mode: 'horizontal',\n  }\n  public state: SplitState = {\n    dragging: false,\n  }\n  public warpper!: HTMLDivElement | null;\n  public paneNumber!: number;\n  public startX!: number;\n  public startY!: number;\n  public move!: boolean;\n  public target!: HTMLDivElement;\n\n  public boxWidth!: number;\n  public boxHeight!: number;\n  public preWidth!: number;\n  public nextWidth!: number;\n  public preHeight!: number;\n  public nextHeight!: number;\n\n  public preSize!: number;\n  public nextSize!: number;\n  constructor(props: SplitProps) {\n    super(props);\n    this.onDragEnd = this.onDragEnd.bind(this);\n    this.onDragging = this.onDragging.bind(this);\n  }\n  public componentWillUnmount() {\n    this.removeEvent();\n  }\n  private removeEvent() {\n    window.removeEventListener('mousemove', this.onDragging, false);\n    window.removeEventListener('mouseup', this.onDragEnd, false);\n  }\n  onMouseDown(paneNumber: number, env: React.MouseEvent<HTMLDivElement, MouseEvent>) {\n    if (!env.target || !this.warpper) {\n      return;\n    }\n    this.paneNumber = paneNumber;\n    this.startX = env.clientX;\n    this.startY = env.clientY;\n    this.move = true;\n    this.target = (env.target as HTMLDivElement).parentNode as HTMLDivElement;\n    const prevTarget = this.target.previousElementSibling;\n    const nextTarget = this.target.nextElementSibling;\n    this.boxWidth = this.warpper.clientWidth;\n    this.boxHeight = this.warpper.clientHeight;\n    if (prevTarget) {\n      this.preWidth = prevTarget.clientWidth;\n      this.preHeight = prevTarget.clientHeight;\n    }\n    if (nextTarget) {\n      this.nextWidth = nextTarget.clientWidth;\n      this.nextHeight = nextTarget.clientHeight;\n    }\n    window.addEventListener('mousemove', this.onDragging);\n    window.addEventListener('mouseup', this.onDragEnd, false);\n    this.setState({ dragging: true });\n  }\n  onDragging(env: Event) {\n    if (!this.move) {\n      return;\n    }\n    if (!this.state.dragging) {\n      this.setState({ dragging: true });\n    }\n    const { mode, onDragging } = this.props;\n    const nextTarget = this.target.nextElementSibling as HTMLDivElement;\n    const prevTarget = this.target.previousElementSibling as HTMLDivElement;\n    const x = (env as MouseEvent).clientX - this.startX;\n    const y = (env as MouseEvent).clientY - this.startY;\n    this.preSize = 0;\n    this.nextSize = 0;\n    if (mode === 'horizontal') {\n      this.preSize = this.preWidth + x > -1 ? this.preWidth + x : 0;\n      this.nextSize = this.nextWidth - x > -1 ? this.nextWidth - x : 0;\n      if (this.preSize === 0 || this.nextSize === 0) {\n        return;\n      }\n      this.preSize = (this.preSize / this.boxWidth >= 1 ? 1 : this.preSize / this.boxWidth) * 100;\n      this.nextSize = (this.nextSize / this.boxWidth >= 1 ? 1 : this.nextSize / this.boxWidth) * 100;\n      if (prevTarget && nextTarget) {\n        prevTarget.style.width = `${this.preSize}%`;\n        nextTarget.style.width = `${this.nextSize}%`;\n      }\n    }\n    if (mode === 'vertical' && this.preHeight + y > -1 && this.nextHeight - y > -1) {\n      this.preSize = this.preHeight + y > -1 ? this.preHeight + y : 0;\n      this.nextSize = this.nextHeight - y > -1 ? this.nextHeight - y : 0;\n      this.preSize = (this.preSize / this.boxHeight >= 1 ? 1 : this.preSize / this.boxHeight) * 100;\n      this.nextSize = (this.nextSize / this.boxHeight >= 1 ? 1 : this.nextSize / this.boxHeight) * 100;\n      if (this.preSize === 0 || this.nextSize === 0) {\n        return;\n      }\n      if (prevTarget && nextTarget) {\n        prevTarget.style.height = `${this.preSize}%`;\n        nextTarget.style.height = `${this.nextSize}%`;\n      }\n    }\n    onDragging && onDragging(this.preSize, this.nextSize, this.paneNumber);\n  }\n  onDragEnd() {\n    const { onDragEnd } = this.props;\n    this.move = false;\n    onDragEnd && onDragEnd(this.preSize, this.nextSize, this.paneNumber);\n    this.removeEvent();\n    this.setState({ dragging: false });\n  }\n  render() {\n    const { prefixCls, className, children, mode, visiable, renderBar, lineBar, disable, onDragEnd, onDragging, ...other } = this.props;\n    const { dragging } = this.state;\n    const cls = [prefixCls, className, `${prefixCls}-${mode}`, dragging ? 'dragging' : null].filter(Boolean)\n    .join(' ')\n    .trim();\n    const child = React.Children.toArray(children);\n    return (\n      <div className={cls} {...other} ref={node => this.warpper = node}>\n        {React.Children.map(child, (element: any, idx: number) => {\n          const props = Object.assign({}, element.props, {\n            className: [`${prefixCls}-pane`, element.props.className].filter(Boolean)\n            .join(' ')\n            .trim(),\n            style: { ...element.props.style },\n          });\n          const visiableBar = (visiable === true || (visiable && visiable.includes((idx + 1) as never))) || false;\n          const barProps = {\n            className: [`${prefixCls}-bar`, \n            lineBar ? `${prefixCls}-line-bar` : null,\n            !lineBar ? `${prefixCls}-large-bar` : null].filter(Boolean)\n            .join(' ')\n            .trim(),\n          };\n          if (disable === true || (disable && disable.includes((idx + 1) as never))) {\n            barProps.className = [barProps.className, disable ? 'disable' : null].filter(Boolean)\n            .join(' ')\n            .trim();\n          }\n          let BarCom = null;\n          if (idx !== 0 && visiableBar && renderBar) {\n            BarCom = renderBar({ ...barProps, onMouseDown:  this.onMouseDown.bind(this, idx + 1) });\n          } else if (idx !== 0 && visiableBar) {\n            BarCom = React.createElement('div', { ...barProps }, <div onMouseDown={this.onMouseDown.bind(this, idx + 1)} />)\n          }\n          return (\n            <React.Fragment>\n              {BarCom}\n              {React.cloneElement(element, { ...props })}\n            </React.Fragment>\n          );\n        })}\n      </div>\n    );\n  }\n}\n"
  ]
}