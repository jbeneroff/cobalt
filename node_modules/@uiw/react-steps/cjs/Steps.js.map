{
  "version": 3,
  "sources": [
    "../src/Steps.tsx"
  ],
  "names": [
    "InternalSteps",
    "props",
    "prefixCls",
    "style",
    "className",
    "children",
    "current",
    "status",
    "progressDot",
    "direction",
    "resetProps",
    "warpRef",
    "lastStepOffsetWidth",
    "setLastStepOffsetWidth",
    "filteredChildren",
    "React",
    "Children",
    "toArray",
    "filter",
    "c",
    "lastIndex",
    "length",
    "classString",
    "Boolean",
    "join",
    "trim",
    "calcStepOffsetWidth",
    "domNode",
    "lastChild",
    "width",
    "offsetWidth",
    "Math",
    "abs",
    "map",
    "child",
    "index",
    "childProps",
    "stepNumber",
    "itemWidth",
    "adjustMarginRight",
    "round",
    "cloneElement",
    "Step"
  ],
  "mappings": "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",
  "sourcesContent": [
    "import React, { useEffect, useRef, useState } from 'react';\nimport { IProps, HTMLDivProps } from '@uiw/utils';\nimport Step, { StepProps } from './Step';\n\nexport interface StepsProps<T> extends IProps, HTMLDivProps {\n  status?: StepProps<T>['status'];\n  progressDot?: StepProps<T>['progressDot'];\n  direction?: 'horizontal' | 'vertical';\n  /**\n   * 指定当前步骤，从 `0` 开始记数。\n   */\n  current?: number;\n}\n\nfunction InternalSteps<T>(props: StepsProps<T>) {\n  const {\n    prefixCls = 'w-steps',\n    style = {},\n    className,\n    children,\n    current,\n    status = 'process',\n    progressDot = false,\n    direction = 'horizontal',\n    ...resetProps\n  } = props;\n\n  const warpRef = useRef<HTMLDivElement>(null);\n  const [lastStepOffsetWidth, setLastStepOffsetWidth] = useState(0);\n  const filteredChildren = React.Children.toArray(children).filter((c) => !!c);\n  const lastIndex = filteredChildren.length - 1; // 最后一个节点的索引数字\n  const classString = [\n    prefixCls,\n    `${prefixCls}-${direction}`,\n    !!progressDot ? `${prefixCls}-dot` : null,\n  ]\n    .filter(Boolean)\n    .join(' ')\n    .trim();\n\n  useEffect(() => calcStepOffsetWidth());\n\n  // 计算每一步的宽度\n  function calcStepOffsetWidth() {\n    const domNode = warpRef.current;\n    if (domNode && domNode.lastChild) {\n      const width = ((domNode.lastChild as HTMLElement).offsetWidth || 0) + 1;\n      if (\n        width === lastStepOffsetWidth ||\n        Math.abs(width - lastStepOffsetWidth) <= 3\n      ) {\n        return;\n      }\n      setLastStepOffsetWidth(width);\n    }\n  }\n\n  return (\n    <div className={classString} style={style} {...resetProps} ref={warpRef}>\n      {React.Children.map(children, (child: any, index) => {\n        const childProps = {\n          stepNumber: `${index + 1}`,\n          prefixCls,\n          progressDot,\n          ...child.props,\n        };\n        if (index !== lastIndex && direction !== 'vertical') {\n          childProps.itemWidth = `${100 / lastIndex}%`;\n          childProps.adjustMarginRight = -Math.round(\n            lastStepOffsetWidth / lastIndex + 1,\n          );\n        }\n\n        if (progressDot && direction !== 'vertical') {\n          childProps.itemWidth = `${100 / filteredChildren.length}%`;\n          childProps.adjustMarginRight = 0;\n        }\n        // 错误前面\n        if (status === 'error' && index === (current as number) - 1) {\n          childProps.className = `${prefixCls}-next-error`;\n        }\n        if (!child.props.status) {\n          if (index === current) {\n            childProps.status = status;\n          } else if (index < (current as number)) {\n            childProps.status = 'finish';\n          } else {\n            childProps.status = 'wait';\n          }\n        }\n        return React.cloneElement(child, childProps);\n      })}\n    </div>\n  );\n}\n\ntype Steps = typeof InternalSteps & {\n  Step: typeof Step;\n};\n\n(InternalSteps as Steps).Step = Step;\n\nexport default InternalSteps as Steps;\n"
  ]
}