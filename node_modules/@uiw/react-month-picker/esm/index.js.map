{
  "version": 3,
  "sources": [
    "../src/index.tsx"
  ],
  "names": [
    "React",
    "useEffect",
    "useMemo",
    "useState",
    "Input",
    "Popover",
    "Button",
    "formatter",
    "DatePickerMonth",
    "DatePickerYear",
    "DatePickerCaption",
    "MONTH_LABEL",
    "MonthPicker",
    "props",
    "prefixCls",
    "format",
    "onChange",
    "className",
    "popoverProps",
    "pickerCaptionProps",
    "allowClear",
    "monthLabel",
    "inputProps",
    "isOpen",
    "setIsOpen",
    "panelDate",
    "setPanelDate",
    "Date",
    "type",
    "setType",
    "date",
    "setDate",
    "value",
    "addonAfter",
    "size",
    "handleSelectedDate",
    "num",
    "paging",
    "curPanelDate",
    "curDate",
    "open",
    "captionType",
    "test",
    "year",
    "getFullYear",
    "setFullYear",
    "month",
    "filter",
    "Boolean",
    "join",
    "trim"
  ],
  "mappings": ";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,OAA3B,EAAoCC,QAApC,QAAoD,OAApD;AACA,OAAOC,KAAP,MAAkC,kBAAlC;AACA,OAAOC,OAAP,MAAsC,oBAAtC;AAEA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,OAAOC,SAAP,MAAsB,gBAAtB;AACA,SACEC,eADF,EAEEC,cAFF,EAGEC,iBAHF,QAKO,wBALP;AAMA;;;AAcA,IAAMC,WAAW,GAAG,CAClB,IADkB,EAElB,IAFkB,EAGlB,IAHkB,EAIlB,IAJkB,EAKlB,IALkB,EAMlB,IANkB,EAOlB,IAPkB,EAQlB,IARkB,EASlB,IATkB,EAUlB,IAVkB,EAWlB,KAXkB,EAYlB,KAZkB,CAApB;AAeA,eAAe,SAASC,WAAT,CAAwBC,KAAxB,EAAoD;AACjE,MAAM;AACJC,IAAAA,SAAS,GAAG,eADR;AAEJC,IAAAA,MAAM,GAAG,SAFL;AAGJC,IAAAA,QAAQ,GAAG,MAAM,CAAE,CAHf;AAIJC,IAAAA,SAJI;AAKJC,IAAAA,YALI;AAMJC,IAAAA,kBAAkB,GAAG,EANjB;AAOJC,IAAAA,UAAU,GAAG,IAPT;AAQJC,IAAAA,UAAU,GAAGV;AART,MAUFE,KAVJ;AAAA,MASKS,UATL,iCAUIT,KAVJ;;AAYA,MAAM,CAACU,MAAD,EAASC,SAAT,IAAsBrB,QAAQ,CAAC,KAAD,CAApC;AACA,MAAM,CAACsB,SAAD,EAAYC,YAAZ,IAA4BvB,QAAQ,CAAC,IAAIwB,IAAJ,EAAD,CAA1C;AACA,MAAM,CAACC,IAAD,EAAOC,OAAP,IAAkB1B,QAAQ,CAAC,OAAD,CAAhC;AACA,MAAM,CAAC2B,IAAD,EAAOC,OAAP,IAAkB5B,QAAQ,CAACU,KAAK,CAACmB,KAAP,CAAhC;AAEA/B,EAAAA,SAAS,CAAC,MAAM8B,OAAO,CAAClB,KAAK,CAACmB,KAAP,CAAd,EAA6B,CAACnB,KAAK,CAACmB,KAAP,CAA7B,CAAT;AAEAV,EAAAA,UAAU,CAACU,KAAX,GAAmB9B,OAAO,CACxB,MACE,OAAO4B,IAAP,KAAgB,QAAhB,GAA2BA,IAA3B,GAAkCA,IAAI,GAAGvB,SAAS,CAACQ,MAAD,EAASe,IAAT,CAAZ,GAA6B,EAF7C,EAGxB,CAACf,MAAD,EAASe,IAAT,CAHwB,CAA1B;;AAMA,MAAIV,UAAU,IAAIE,UAAU,CAACU,KAA7B,EAAoC;AAClCV,IAAAA,UAAU,CAACW,UAAX,gBACE,KAAC,MAAD;AACE,MAAA,SAAS,EAAKnB,SAAL,eADX;AAEE,MAAA,IAAI,EAAC,OAFP;AAGE,MAAA,OAAO,EAAE,MAAM;AACbiB,QAAAA,OAAO,CAAC,EAAD,CAAP;AACAf,QAAAA,QAAQ,IAAIA,QAAQ,EAApB;AACD,OANH;AAOE,MAAA,IAAI,EAAEM,UAAU,CAACY,IAPnB;AAQE,MAAA,KAAK,MARP;AASE,MAAA,IAAI,EAAC;AATP,MADF;AAaD;;AAED,WAASC,kBAAT,CACEP,IADF,EAEEQ,GAFF,EAGEC,MAHF,EAIE;AACA,QAAMC,YAAY,GAAG,IAAIX,IAAJ,CAAS,IAAIA,IAAJ,CAASF,SAAT,EAAoBG,IAApB,EAA0BQ,GAA1B,CAAT,CAArB;;AACA,QAAI,CAACC,MAAL,EAAa;AACXR,MAAAA,OAAO,CAAC,OAAD,CAAP;AACD;;AACD,QAAMU,OAAO,GAAGhC,SAAS,CAACQ,MAAD,EAAS,IAAIY,IAAJ,CAASW,YAAT,CAAT,CAAzB;AACAP,IAAAA,OAAO,CAACQ,OAAD,CAAP;AACAb,IAAAA,YAAY,CAACY,YAAD,CAAZ;AACAtB,IAAAA,QAAQ,IAAIA,QAAQ,CAACsB,YAAD,EAAeC,OAAf,CAApB;;AACA,QAAIX,IAAI,KAAK,UAAb,EAAyB;AACvBJ,MAAAA,SAAS,CAAC,KAAD,CAAT;AACD;AACF;;AAED,sBACE,KAAC,OAAD;AACE,IAAA,OAAO,EAAC,OADV;AAEE,IAAA,SAAS,EAAC,YAFZ;AAGE,IAAA,kBAAkB,MAHpB;AAIE,IAAA,MAAM,EAAED;AAJV,KAKML,YALN;AAME,IAAA,eAAe,EAAGsB,IAAD,IAAUhB,SAAS,CAACgB,IAAD,CANtC;AAOE,IAAA,OAAO,eACL;AAAK,MAAA,SAAS,EAAK1B,SAAL,aAAd;AAAA,8BACE,KAAC,iBAAD;AACE,QAAA,SAAS,EAAEW,SADb;AAEE,QAAA,UAAU,EAAEJ;AAFd,SAGMF,kBAHN;AAIE,QAAA,UAAU,EAAGsB,WAAD,IAAiB;AAC3B,cAAI,iBAAiBC,IAAjB,CAAsBD,WAAtB,CAAJ,EAAkD;AAChDZ,YAAAA,OAAO,CAACY,WAAD,CAAP;AACD,WAFD,MAEO;AACL,gBAAME,IAAI,GAAG,IAAIhB,IAAJ,CAASF,SAAT,EAAoBmB,WAApB,EAAb;AACA,gBAAMN,YAAY,GAAG,IAAIX,IAAJ,CACnB,IAAIA,IAAJ,CAASF,SAAT,EAAoBoB,WAApB,CACEjB,IAAI,KAAK,MAAT,GAAkBe,IAAI,GAAG,CAAzB,GAA6BA,IAAI,GAAG,CADtC,CADmB,CAArB;AAKAjB,YAAAA,YAAY,CAACY,YAAD,CAAZ;AACD;AACF;AAhBH,SADF,EAmBGV,IAAI,KAAK,OAAT,iBACC,KAAC,eAAD;AACE,QAAA,SAAS,EAAEH,SADb;AAEE,QAAA,UAAU,EAAEJ,UAFd;AAGE,QAAA,UAAU,EAAE,CAACyB,KAAD,EAAQT,MAAR,KACVF,kBAAkB,CAAC,UAAD,EAAaW,KAAb,EAAoBT,MAApB;AAJtB,QApBJ,EA4BGT,IAAI,KAAK,MAAT,iBACC,KAAC,cAAD;AACE,QAAA,SAAS,EAAEH,SADb;AAEE,QAAA,UAAU,EAAE,CAACkB,IAAD,EAAON,MAAP,KACVF,kBAAkB,CAAC,aAAD,EAAgBQ,IAAhB,EAAsBN,MAAtB;AAHtB,QA7BJ;AAAA,MARJ;AAAA,2BA+CE,KAAC,KAAD;AACE,MAAA,WAAW,EAAC,gCADd;AAEE,MAAA,QAAQ;AAFV,OAGOf,UAHP;AAIE,MAAA,SAAS,EAAE,CAACR,SAAD,EAAYG,SAAZ,EAAuB8B,MAAvB,CAA8BC,OAA9B,EAAuCC,IAAvC,CAA4C,GAA5C,EAAiDC,IAAjD;AAJb;AA/CF,KADF;AAwDD",
  "sourcesContent": [
    "import React, { useEffect, useMemo, useState } from 'react';\nimport Input, { InputProps } from '@uiw/react-input';\nimport Popover, { PopoverProps } from '@uiw/react-popover';\nimport { IProps } from '@uiw/utils';\nimport Button from '@uiw/react-button';\nimport formatter from '@uiw/formatter';\nimport {\n  DatePickerMonth,\n  DatePickerYear,\n  DatePickerCaption,\n  DatePickerCaptionProps,\n} from '@uiw/react-date-picker';\nimport './style/index.less';\n\nexport interface MonthPickerProps<T>\n  extends IProps,\n    Omit<InputProps<T>, 'value' | 'onChange'> {\n  popoverProps?: PopoverProps;\n  pickerCaptionProps?: DatePickerCaptionProps;\n  value?: Date | string;\n  format?: string;\n  monthLabel?: string[];\n  allowClear?: boolean;\n  onChange?: (date?: Date, formatDate?: string) => void;\n}\n\nconst MONTH_LABEL = [\n  '一月',\n  '二月',\n  '三月',\n  '四月',\n  '五月',\n  '六月',\n  '七月',\n  '八月',\n  '九月',\n  '十月',\n  '十一月',\n  '十二月',\n];\n\nexport default function MonthPicker<T>(props: MonthPickerProps<T>) {\n  const {\n    prefixCls = 'w-monthpicker',\n    format = 'YYYY/MM',\n    onChange = () => {},\n    className,\n    popoverProps,\n    pickerCaptionProps = {},\n    allowClear = true,\n    monthLabel = MONTH_LABEL,\n    ...inputProps\n  } = props;\n\n  const [isOpen, setIsOpen] = useState(false);\n  const [panelDate, setPanelDate] = useState(new Date());\n  const [type, setType] = useState('month');\n  const [date, setDate] = useState(props.value);\n\n  useEffect(() => setDate(props.value), [props.value]);\n\n  inputProps.value = useMemo(\n    () =>\n      typeof date === 'string' ? date : date ? formatter(format, date) : '',\n    [format, date],\n  );\n\n  if (allowClear && inputProps.value) {\n    inputProps.addonAfter = (\n      <Button\n        className={`${prefixCls}-close-btn`}\n        icon=\"close\"\n        onClick={() => {\n          setDate('');\n          onChange && onChange();\n        }}\n        size={inputProps.size}\n        basic\n        type=\"light\"\n      />\n    );\n  }\n\n  function handleSelectedDate(\n    type: 'setMonth' | 'setFullYear',\n    num: number,\n    paging?: boolean,\n  ) {\n    const curPanelDate = new Date(new Date(panelDate)[type](num));\n    if (!paging) {\n      setType('month');\n    }\n    const curDate = formatter(format, new Date(curPanelDate));\n    setDate(curDate);\n    setPanelDate(curPanelDate);\n    onChange && onChange(curPanelDate, curDate);\n    if (type === 'setMonth') {\n      setIsOpen(false);\n    }\n  }\n\n  return (\n    <Popover\n      trigger=\"focus\"\n      placement=\"bottomLeft\"\n      autoAdjustOverflow\n      isOpen={isOpen}\n      {...popoverProps}\n      onVisibleChange={(open) => setIsOpen(open)}\n      content={\n        <div className={`${prefixCls}-popover`}>\n          <DatePickerCaption\n            panelDate={panelDate}\n            monthLabel={monthLabel}\n            {...pickerCaptionProps}\n            onSelected={(captionType) => {\n              if (/^(month|year)$/.test(captionType as string)) {\n                setType(captionType);\n              } else {\n                const year = new Date(panelDate).getFullYear();\n                const curPanelDate = new Date(\n                  new Date(panelDate).setFullYear(\n                    type === 'next' ? year + 1 : year - 1,\n                  ),\n                );\n                setPanelDate(curPanelDate);\n              }\n            }}\n          />\n          {type === 'month' && (\n            <DatePickerMonth\n              panelDate={panelDate}\n              monthLabel={monthLabel}\n              onSelected={(month, paging) =>\n                handleSelectedDate('setMonth', month, paging)\n              }\n            />\n          )}\n          {type === 'year' && (\n            <DatePickerYear\n              panelDate={panelDate}\n              onSelected={(year, paging) =>\n                handleSelectedDate('setFullYear', year, paging)\n              }\n            />\n          )}\n        </div>\n      }\n    >\n      <Input\n        placeholder=\"请输入日期\"\n        readOnly\n        {...(inputProps as any)}\n        className={[prefixCls, className].filter(Boolean).join(' ').trim()}\n      />\n    </Popover>\n  );\n}\n"
  ]
}