"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault")["default"];

var _interopRequireWildcard = require("@babel/runtime/helpers/interopRequireWildcard")["default"];

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = RenderDay;

var _objectSpread2 = _interopRequireDefault(require("@babel/runtime/helpers/objectSpread2"));

var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));

var _react = _interopRequireWildcard(require("react"));

var _jsxRuntime = require("react/jsx-runtime");

var _excluded = ["date", "label"];

function RenderDay(props) {
  var prefixCls = props.prefixCls,
      day = props.day,
      data = props.data,
      currentDate = props.currentDate;
  var dayData = (0, _react.useMemo)(function () {
    return (data || []).filter(function (item) {
      var arr = (item.date && item.date.split('/') || []).map(function (num) {
        return Number(num);
      });

      if (arr.length === 1) {
        return day === arr[0];
      }

      if (currentDate && arr.length === 2) {
        return currentDate.getMonth() + 1 === arr[0] && day === arr[1];
      }

      if (currentDate && arr.length === 3) {
        return currentDate.getFullYear() === arr[0] && currentDate.getMonth() + 1 === arr[1] && day === arr[2];
      }

      return false;
    });
  }, [currentDate, day, data]);
  return (0, _react.useMemo)(function () {
    return /*#__PURE__*/(0, _jsxRuntime.jsxs)("div", {
      className: "".concat(prefixCls, "-inner"),
      children: [/*#__PURE__*/(0, _jsxRuntime.jsx)("div", {
        className: "".concat(prefixCls, "-day"),
        children: day
      }), /*#__PURE__*/(0, _jsxRuntime.jsx)("div", {
        className: "".concat(prefixCls, "-panel"),
        children: dayData && dayData.length > 0 && dayData.map(function (item, idx) {
          var date = item.date,
              label = item.label,
              other = (0, _objectWithoutProperties2["default"])(item, _excluded);
          return /*#__PURE__*/(0, _jsxRuntime.jsx)("div", (0, _objectSpread2["default"])((0, _objectSpread2["default"])({}, other), {}, {
            children: label
          }), idx);
        })
      })]
    });
  }, [dayData, day]);
}

module.exports = exports.default;
//# sourceMappingURL=DayLabel.js.map