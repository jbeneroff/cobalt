{
  "version": 3,
  "sources": [
    "../src/index.tsx"
  ],
  "names": [
    "React",
    "cloneElement",
    "useEffect",
    "useRef",
    "useState",
    "useImperativeHandle",
    "noop",
    "Overlay",
    "contains",
    "getStyle",
    "normalizeDelay",
    "delay",
    "show",
    "hide",
    "forwardRef",
    "props",
    "ref",
    "className",
    "prefixCls",
    "usePortal",
    "isOutside",
    "isClickOutside",
    "disabled",
    "isOpen",
    "_",
    "trigger",
    "placement",
    "autoAdjustOverflow",
    "transitionName",
    "children",
    "overlay",
    "onVisibleChange",
    "onEnter",
    "other",
    "zIndex",
    "triggerRef",
    "popupRef",
    "timeoutRef",
    "hoverStateRef",
    "setIsOpen",
    "overlayStyl",
    "setOverlayStyl",
    "top",
    "bottom",
    "left",
    "right",
    "current",
    "child",
    "Children",
    "only",
    "overlayProps",
    "dialogProps",
    "triggerProps",
    "getChildProps",
    "isValidElement",
    "document",
    "addEventListener",
    "handleClickOutside",
    "removeEventListener",
    "e",
    "popNode",
    "childNode",
    "target",
    "clearTimeouts",
    "length",
    "timeoutId",
    "window",
    "clearTimeout",
    "handleShow",
    "handle",
    "setTimeout",
    "push",
    "handleHide",
    "handleMouseOverOut",
    "handler",
    "relatedNative",
    "currentTarget",
    "related",
    "relatedTarget",
    "nativeEvent",
    "handleEnter",
    "node",
    "isAppearing",
    "styls",
    "popup",
    "onClick",
    "onFocus",
    "onMouseOver",
    "onMouseEnter",
    "onMouseOut",
    "onMouseLeave",
    "style",
    "Object",
    "assign",
    "filter",
    "Boolean",
    "join",
    "trim"
  ],
  "mappings": "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",
  "sourcesContent": [
    "import React, {\n  cloneElement,\n  useEffect,\n  useRef,\n  useState,\n  useImperativeHandle,\n} from 'react';\nimport { IProps, noop } from '@uiw/utils';\nimport Overlay, { OverlayProps } from '@uiw/react-overlay';\nimport contains from './utils';\nimport { IBoundingClientRect } from './util/getBoundingClientRect';\nimport { getStyle } from './getStyle';\nimport './style/index.less';\n\nexport interface OverlayTriggerProps extends IProps, OverlayProps {\n  onVisibleChange?: (isVisbale: boolean) => void;\n  onEnter?: (node: HTMLElement, isAppearing: boolean) => void;\n  overlay?: React.ReactNode | any;\n  trigger?: 'click' | 'hover' | 'focus';\n  usePortal?: boolean;\n  isOpen?: boolean;\n  disabled?: boolean;\n  isOutside?: boolean;\n  isClickOutside?: boolean;\n  autoAdjustOverflow?: boolean;\n  placement?: Placement;\n  delay?: Delay;\n}\n\nexport interface OverlayTriggerState {\n  show: boolean;\n  trigger: OverlayTriggerProps['trigger'];\n  overlayStyl: OverlayStyl;\n  transitionName: OverlayProps['transitionName'];\n}\n\nexport type Delay =\n  | number\n  | {\n      show?: number;\n      hide?: number;\n    };\n\nexport type Placement =\n  | 'top'\n  | 'topLeft'\n  | 'topRight'\n  | 'left'\n  | 'leftTop'\n  | 'leftBottom'\n  | 'right'\n  | 'rightTop'\n  | 'rightBottom'\n  | 'bottom'\n  | 'bottomLeft'\n  | 'bottomRight';\n\nexport type OverlayStyl = {\n  placement: Placement;\n  top: number;\n  bottom: number;\n  left: number;\n  right: number;\n  zIndex: number;\n};\n\ninterface ITriggerProps {\n  onClick?: (e: MouseEvent) => void;\n  onFocus?: (e: MouseEvent) => void;\n  onMouseOver?: (e: React.MouseEvent<HTMLElement, MouseEvent>) => void;\n  onMouseOut?: (e: React.MouseEvent<HTMLElement, MouseEvent>) => void;\n  onMouseEnter?: (e: React.MouseEvent<HTMLElement, MouseEvent>) => void;\n  onMouseLeave?: (e: React.MouseEvent<HTMLElement, MouseEvent>) => void;\n}\n\nconst normalizeDelay = (delay?: Delay) =>\n  delay && typeof delay === 'object' ? delay : { show: delay, hide: delay };\n\nexport type OverlayTriggerRef = {\n  hide: () => void;\n  show: () => void;\n};\n\nexport default React.forwardRef<OverlayTriggerRef, OverlayTriggerProps>(\n  (props, ref) => {\n    const {\n      className,\n\n      prefixCls = 'w-overlay-trigger',\n      usePortal = true,\n      isOutside = false,\n      isClickOutside = true,\n      disabled = false,\n      isOpen: _ = false,\n      trigger = 'hover',\n      placement = 'top',\n\n      autoAdjustOverflow,\n      transitionName,\n\n      children,\n      overlay,\n      onVisibleChange = noop,\n      onEnter = noop,\n      ...other\n    } = props;\n\n    const zIndex = useRef<number>(999);\n    const triggerRef = useRef<HTMLElement>();\n    const popupRef = useRef<HTMLElement>();\n    const timeoutRef = useRef<number[]>([]);\n    const hoverStateRef = useRef<'show' | 'hide' | null>(null);\n    const [isOpen, setIsOpen] = useState(!!props.isOpen);\n    const [overlayStyl, setOverlayStyl] = useState<OverlayStyl>({\n      placement,\n      top: 0,\n      bottom: 0,\n      left: 0,\n      right: 0,\n      zIndex: zIndex.current,\n    });\n    useImperativeHandle(ref, () => ({\n      hide: () => hide(),\n      show: () => show(),\n    }));\n\n    const child: any = React.Children.only(children);\n    const overlayProps: OverlayProps = {\n      ...other,\n      placement,\n      isOpen,\n      dialogProps: {},\n    };\n    const triggerProps: ITriggerProps = {};\n\n    function getChildProps() {\n      if (child && React.isValidElement(child)) {\n        return child.props;\n      }\n      return {};\n    }\n\n    useEffect(() => {\n      if (isClickOutside) {\n        document && document.addEventListener('mousedown', handleClickOutside);\n      }\n      return () => {\n        document &&\n          isClickOutside &&\n          document.removeEventListener('mousedown', handleClickOutside);\n      };\n    }, []);\n\n    useEffect(() => {\n      if (props.isOpen !== isOpen) {\n        setIsOpen(!!props.isOpen);\n      }\n    }, [props.isOpen]);\n\n    useEffect(() => {\n      onVisibleChange(isOpen);\n    }, [isOpen]);\n\n    const handleClickOutside = (e: MouseEvent) => {\n      const popNode = popupRef.current;\n      const childNode = triggerRef.current;\n      if (\n        popNode &&\n        childNode &&\n        e.target &&\n        !contains(popNode, e.target as HTMLElement) &&\n        !contains(childNode, e.target as HTMLElement)\n      ) {\n        zIndex.current -= 1;\n        setIsOpen(false);\n        onVisibleChange && onVisibleChange(false);\n      }\n    };\n\n    function clearTimeouts() {\n      if (timeoutRef.current.length > 0) {\n        for (const timeoutId of timeoutRef.current) {\n          window.clearTimeout(timeoutId);\n        }\n        timeoutRef.current = [];\n      }\n    }\n    function handleShow() {\n      clearTimeouts();\n      hoverStateRef.current = 'show';\n\n      const delay = normalizeDelay(props.delay);\n\n      if (!delay.show) {\n        show();\n        return;\n      }\n      const handle = window.setTimeout(() => {\n        if (hoverStateRef.current === 'show') show();\n      }, delay.show);\n      timeoutRef.current.push(handle);\n    }\n\n    function handleHide(isOutside: boolean) {\n      clearTimeouts();\n      if (!isOutside && props.isOutside) return;\n      hoverStateRef.current = 'hide';\n\n      const delay = normalizeDelay(props.delay);\n\n      if (!delay.hide) {\n        hide();\n        return;\n      }\n\n      const handle = window.setTimeout(() => {\n        if (hoverStateRef.current === 'hide') hide();\n      }, delay.hide);\n\n      timeoutRef.current.push(handle);\n    }\n\n    // Simple implementation of mouseEnter and mouseLeave.\n    // React's built version is broken: https://github.com/facebook/react/issues/4251\n    // for cases when the trigger is disabled and mouseOut/Over can cause flicker\n    // moving from one child element to another.\n    function handleMouseOverOut(\n      handler: Function,\n      e: React.MouseEvent,\n      relatedNative: 'fromElement' | 'toElement',\n    ) {\n      const target = e.currentTarget as HTMLElement;\n      const related = (e.relatedTarget ||\n        (e.nativeEvent as any)[relatedNative]) as HTMLElement;\n      let isOutside = true;\n      if (\n        (popupRef.current && contains(popupRef.current, related)) ||\n        (triggerRef.current && contains(triggerRef.current, related))\n      ) {\n        isOutside = false;\n      }\n      if ((!related || related !== target) && !contains(target, related)) {\n        handler(isOutside, e);\n      }\n    }\n\n    function hide() {\n      if (!isOpen) return;\n      zIndex.current -= 1;\n      setIsOpen(false);\n    }\n\n    function show() {\n      if (isOpen) return;\n      zIndex.current += 1;\n      setIsOpen(true);\n    }\n\n    function handleEnter(node: HTMLElement, isAppearing: boolean) {\n      onEnter && onEnter(node, isAppearing);\n      const styls = getStyle({\n        placement: overlayStyl.placement || placement,\n        trigger: triggerRef.current as HTMLElement | IBoundingClientRect,\n        popup: popupRef.current as HTMLElement | IBoundingClientRect,\n        usePortal,\n        autoAdjustOverflow,\n      });\n      setOverlayStyl({ ...styls, zIndex: zIndex.current });\n    }\n\n    if (trigger === 'click' && !disabled) {\n      triggerProps.onClick = (e) => {\n        const { onClick } = getChildProps() as any;\n        isOpen ? hide() : show();\n        if (onClick) onClick(e, !isOpen);\n      };\n    }\n    if (trigger === 'focus' && !disabled) {\n      triggerProps.onFocus = () => handleShow();\n    }\n\n    if (trigger === 'hover' && !disabled) {\n      triggerProps.onMouseOver = triggerProps.onMouseEnter = (e) => {\n        handleMouseOverOut(handleShow, e, 'fromElement');\n      };\n      triggerProps.onMouseOut = triggerProps.onMouseLeave = (e) => {\n        handleMouseOverOut(handleHide, e, 'toElement');\n      };\n      if (overlayProps.dialogProps) {\n        overlayProps.dialogProps!.onMouseLeave = (e) => {\n          handleMouseOverOut(handleHide, e, 'toElement');\n        };\n      }\n    }\n    overlayProps.style = { ...overlayProps.style, ...overlayStyl };\n    return (\n      <React.Fragment>\n        {cloneElement(\n          child,\n          Object.assign({}, child.props, {\n            ...triggerProps,\n            ref: triggerRef,\n            className: [\n              child.props.className,\n              disabled ? `${prefixCls}-disabled` : null,\n            ]\n              .filter(Boolean)\n              .join(' ')\n              .trim(),\n          }),\n        )}\n        <Overlay\n          {...overlayProps}\n          style={{ ...overlayProps.style, ...overlayStyl }}\n          onEnter={handleEnter}\n          className={[prefixCls, className, overlayStyl.placement]\n            .filter(Boolean)\n            .join(' ')\n            .trim()}\n          usePortal={usePortal}\n          transitionName={transitionName}\n          isOpen={isOpen}\n          hasBackdrop={false}\n        >\n          {cloneElement(\n            overlay,\n            Object.assign({\n              ...overlay.props,\n              ref: popupRef,\n              className: [overlay.props && overlay.props.className, placement]\n                .filter(Boolean)\n                .join(' ')\n                .trim(),\n            }),\n          )}\n        </Overlay>\n      </React.Fragment>\n    );\n  },\n);\n"
  ]
}