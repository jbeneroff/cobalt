{
  "version": 3,
  "sources": [
    "../src/Steps.tsx"
  ],
  "names": [
    "React",
    "useEffect",
    "useRef",
    "useState",
    "Step",
    "InternalSteps",
    "props",
    "prefixCls",
    "style",
    "children",
    "current",
    "status",
    "progressDot",
    "direction",
    "resetProps",
    "warpRef",
    "lastStepOffsetWidth",
    "setLastStepOffsetWidth",
    "filteredChildren",
    "Children",
    "toArray",
    "filter",
    "c",
    "lastIndex",
    "length",
    "classString",
    "Boolean",
    "join",
    "trim",
    "calcStepOffsetWidth",
    "domNode",
    "lastChild",
    "width",
    "offsetWidth",
    "Math",
    "abs",
    "map",
    "child",
    "index",
    "childProps",
    "stepNumber",
    "itemWidth",
    "adjustMarginRight",
    "round",
    "className",
    "cloneElement"
  ],
  "mappings": "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",
  "sourcesContent": [
    "import React, { useEffect, useRef, useState } from 'react';\nimport { IProps, HTMLDivProps } from '@uiw/utils';\nimport Step, { StepProps } from './Step';\n\nexport interface StepsProps<T> extends IProps, HTMLDivProps {\n  status?: StepProps<T>['status'];\n  progressDot?: StepProps<T>['progressDot'];\n  direction?: 'horizontal' | 'vertical';\n  /**\n   * 指定当前步骤，从 `0` 开始记数。\n   */\n  current?: number;\n}\n\nfunction InternalSteps<T>(props: StepsProps<T>) {\n  const {\n    prefixCls = 'w-steps',\n    style = {},\n    className,\n    children,\n    current,\n    status = 'process',\n    progressDot = false,\n    direction = 'horizontal',\n    ...resetProps\n  } = props;\n\n  const warpRef = useRef<HTMLDivElement>(null);\n  const [lastStepOffsetWidth, setLastStepOffsetWidth] = useState(0);\n  const filteredChildren = React.Children.toArray(children).filter((c) => !!c);\n  const lastIndex = filteredChildren.length - 1; // 最后一个节点的索引数字\n  const classString = [\n    prefixCls,\n    `${prefixCls}-${direction}`,\n    !!progressDot ? `${prefixCls}-dot` : null,\n  ]\n    .filter(Boolean)\n    .join(' ')\n    .trim();\n\n  useEffect(() => calcStepOffsetWidth());\n\n  // 计算每一步的宽度\n  function calcStepOffsetWidth() {\n    const domNode = warpRef.current;\n    if (domNode && domNode.lastChild) {\n      const width = ((domNode.lastChild as HTMLElement).offsetWidth || 0) + 1;\n      if (\n        width === lastStepOffsetWidth ||\n        Math.abs(width - lastStepOffsetWidth) <= 3\n      ) {\n        return;\n      }\n      setLastStepOffsetWidth(width);\n    }\n  }\n\n  return (\n    <div className={classString} style={style} {...resetProps} ref={warpRef}>\n      {React.Children.map(children, (child: any, index) => {\n        const childProps = {\n          stepNumber: `${index + 1}`,\n          prefixCls,\n          progressDot,\n          ...child.props,\n        };\n        if (index !== lastIndex && direction !== 'vertical') {\n          childProps.itemWidth = `${100 / lastIndex}%`;\n          childProps.adjustMarginRight = -Math.round(\n            lastStepOffsetWidth / lastIndex + 1,\n          );\n        }\n\n        if (progressDot && direction !== 'vertical') {\n          childProps.itemWidth = `${100 / filteredChildren.length}%`;\n          childProps.adjustMarginRight = 0;\n        }\n        // 错误前面\n        if (status === 'error' && index === (current as number) - 1) {\n          childProps.className = `${prefixCls}-next-error`;\n        }\n        if (!child.props.status) {\n          if (index === current) {\n            childProps.status = status;\n          } else if (index < (current as number)) {\n            childProps.status = 'finish';\n          } else {\n            childProps.status = 'wait';\n          }\n        }\n        return React.cloneElement(child, childProps);\n      })}\n    </div>\n  );\n}\n\ntype Steps = typeof InternalSteps & {\n  Step: typeof Step;\n};\n\n(InternalSteps as Steps).Step = Step;\n\nexport default InternalSteps as Steps;\n"
  ]
}