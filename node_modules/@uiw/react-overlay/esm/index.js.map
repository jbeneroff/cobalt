{
  "version": 3,
  "sources": [
    "../src/index.tsx"
  ],
  "names": [
    "React",
    "cloneElement",
    "useEffect",
    "useRef",
    "useState",
    "CSSTransition",
    "Portal",
    "noop",
    "Overlay",
    "props",
    "className",
    "style",
    "isOpen",
    "_",
    "prefixCls",
    "usePortal",
    "maskClosable",
    "backdropProps",
    "portalProps",
    "hasBackdrop",
    "unmountOnExit",
    "timeout",
    "transitionName",
    "onOpening",
    "onOpened",
    "onClosing",
    "onClosed",
    "onClose",
    "children",
    "dialogProps",
    "otherProps",
    "setIsOpen",
    "visible",
    "setVisible",
    "container",
    "overlay",
    "overlayWillClose",
    "overlayWillOpen",
    "decoratedChild",
    "filter",
    "Boolean",
    "join",
    "trim",
    "tabIndex",
    "handleClosed",
    "node",
    "handleBackdropMouseDown",
    "e",
    "target",
    "current",
    "onMouseDown",
    "document",
    "body",
    "classList",
    "add",
    "remove",
    "TransitionGroupComp",
    "status"
  ],
  "mappings": "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",
  "sourcesContent": [
    "/**\n * Overlay 组件\n * ---------------\n * 动画库 react-transition-group 文档\n * 老的文档\n * https://facebook.github.io/react/docs/animation.html\n * 新的文档\n * https://reactcommunity.org/react-transition-group/\n * 动画效果\n * https://daneden.github.io/animate.css/\n */\nimport React, { cloneElement, useEffect, useRef, useState } from 'react';\nimport { CSSTransition } from 'react-transition-group';\nimport { TransitionProps } from 'react-transition-group/Transition';\nimport Portal, { PortalProps } from '@uiw/react-portal';\nimport { IProps, noop } from '@uiw/utils';\n\nimport './style/index.less';\n\nexport interface OverlayProps extends IProps, Omit<TransitionProps, 'timeout'> {\n  timeout?: TransitionProps['timeout'];\n  isOpen?: boolean;\n  usePortal?: boolean;\n  maskClosable?: boolean;\n  dialogProps?: React.HTMLProps<HTMLElement>;\n  backdropProps?: React.HTMLProps<HTMLDivElement>;\n  portalProps?: PortalProps;\n  hasBackdrop?: boolean;\n  unmountOnExit?: boolean;\n  transitionName?: string;\n  onEnter?: (node: HTMLElement, isAppearing: boolean) => void;\n  onOpening?: (node: HTMLElement, isAppearing: boolean) => void;\n  onOpened?: (node: HTMLElement, isAppearing: boolean) => void;\n  onClosing?: (node: HTMLElement) => void;\n  onClosed?: (\n    node: HTMLElement | React.MouseEvent<HTMLButtonElement, MouseEvent>,\n  ) => void;\n  onClose?: (evn: React.MouseEvent<HTMLElement, MouseEvent>) => void;\n}\n\nexport default function Overlay(props: OverlayProps) {\n  const {\n    className,\n    style,\n    isOpen: _ = false,\n    prefixCls = 'w-overlay',\n    usePortal = true,\n    maskClosable = true,\n    backdropProps = {},\n    portalProps = {},\n    hasBackdrop = true,\n    unmountOnExit = true, // 设置 true 销毁根节点\n    timeout = 300,\n    transitionName = 'w-overlay',\n    // onEnter = noop,\n    onOpening = noop,\n    onOpened = noop,\n    onClosing = noop,\n    onClosed = noop,\n    onClose = noop,\n    children,\n    dialogProps = {},\n    ...otherProps\n  } = props;\n\n  const [isOpen, setIsOpen] = useState(props.isOpen || false);\n  const [visible, setVisible] = useState(false);\n  const container = useRef<HTMLDivElement>(null);\n  const overlay = useRef<HTMLDivElement>(null);\n  useEffect(() => {\n    if (isOpen !== props.isOpen && props.isOpen) {\n      setVisible(true);\n    }\n    if (isOpen !== props.isOpen && !props.isOpen) {\n      overlayWillClose();\n      setIsOpen(false);\n    }\n  }, [props.isOpen]);\n\n  useEffect(() => {\n    if (visible) {\n      overlayWillOpen();\n      setIsOpen(true);\n    }\n  }, [visible]);\n\n  const decoratedChild =\n    typeof children === 'object' ? (\n      cloneElement(children, {\n        ...dialogProps,\n        style: { ...children.props.style, ...dialogProps.style },\n        className: [children.props.className, `${prefixCls}-content`]\n          .filter(Boolean)\n          .join(' ')\n          .trim(),\n        tabIndex: 0,\n      })\n    ) : (\n      <span {...dialogProps} className={`${prefixCls}-content`}>\n        {children}\n      </span>\n    );\n\n  function handleClosed(\n    node: HTMLElement | React.MouseEvent<HTMLButtonElement, MouseEvent>,\n  ) {\n    setVisible(false);\n    onClosed && onClosed(node);\n  }\n\n  function handleBackdropMouseDown(\n    e: React.MouseEvent<HTMLDivElement, MouseEvent>,\n  ) {\n    if (e.target !== container.current && usePortal) {\n      return;\n    }\n    if (maskClosable && hasBackdrop) {\n      overlayWillClose();\n      setIsOpen(false);\n      onClose && onClose(e);\n    }\n    backdropProps && backdropProps.onMouseDown && backdropProps.onMouseDown(e);\n  }\n\n  function overlayWillOpen() {\n    if (hasBackdrop && usePortal) {\n      document.body.classList.add(`${prefixCls}-open`);\n    }\n  }\n\n  function overlayWillClose() {\n    if (hasBackdrop && usePortal) {\n      document.body.classList.remove(`${prefixCls}-open`);\n    }\n    // if (unmountOnExit) {\n    //   setVisible(false)\n    // }\n  }\n\n  const TransitionGroupComp = (\n    <CSSTransition\n      classNames={transitionName}\n      unmountOnExit={unmountOnExit}\n      timeout={timeout!}\n      {...otherProps}\n      in={isOpen}\n      onEntering={onOpening}\n      onEntered={onOpened}\n      onExiting={onClosing}\n      onExited={handleClosed}\n    >\n      {(status) => {\n        return (\n          <div\n            style={style}\n            ref={overlay}\n            className={[\n              prefixCls,\n              className,\n              !usePortal ? `${prefixCls}-inline` : null,\n              isOpen ? `${prefixCls}-enter-done` : null,\n            ]\n              .filter(Boolean)\n              .join(' ')\n              .trim()}\n          >\n            {hasBackdrop &&\n              cloneElement(<div />, {\n                ...backdropProps,\n                onMouseDown: handleBackdropMouseDown,\n                className: [`${prefixCls}-backdrop`, backdropProps.className]\n                  .filter(Boolean)\n                  .join(' ')\n                  .trim(),\n                tabIndex: maskClosable ? 0 : null,\n              })}\n            {usePortal ? (\n              <div\n                ref={container}\n                onMouseDown={handleBackdropMouseDown}\n                className={`${prefixCls}-container`}\n              >\n                {cloneElement(decoratedChild, { 'data-status': status })}\n              </div>\n            ) : (\n              cloneElement(decoratedChild, { 'data-status': status })\n            )}\n          </div>\n        );\n      }}\n    </CSSTransition>\n  );\n  if (visible && usePortal) {\n    return <Portal {...{ ...portalProps }}>{TransitionGroupComp}</Portal>;\n  } else {\n    return TransitionGroupComp;\n  }\n}\n"
  ]
}