"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault")["default"];

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = Portal;
exports.canUseDOM = void 0;

var _react = require("react");

var _reactDom = _interopRequireDefault(require("react-dom"));

var canUseDOM = !!(typeof window !== 'undefined' && window.document && window.document.createElement);
exports.canUseDOM = canUseDOM;

function Portal(props) {
  var container = props.container;
  var defaultNode = (0, _react.useRef)();
  var containerRef = (0, _react.useRef)(container);
  (0, _react.useEffect)(function () {
    return function () {
      if (defaultNode.current && containerRef.current) {
        containerRef.current.removeChild(defaultNode.current);
        defaultNode.current = undefined;
      }
    };
  }, []);

  if (!canUseDOM) {
    return null;
  }

  if (!containerRef.current) {
    containerRef.current = document.body;
  }

  if (!defaultNode.current) {
    defaultNode.current = document.createElement('div');
    containerRef.current.appendChild(defaultNode.current);
  }

  return /*#__PURE__*/_reactDom["default"].createPortal(props.children, defaultNode.current);
}
//# sourceMappingURL=index.js.map