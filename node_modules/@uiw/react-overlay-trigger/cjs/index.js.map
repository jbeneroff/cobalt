{
  "version": 3,
  "sources": [
    "../src/index.tsx"
  ],
  "names": [
    "normalizeDelay",
    "delay",
    "show",
    "hide",
    "React",
    "forwardRef",
    "props",
    "ref",
    "className",
    "prefixCls",
    "usePortal",
    "isOutside",
    "isClickOutside",
    "disabled",
    "isOpen",
    "_",
    "trigger",
    "placement",
    "autoAdjustOverflow",
    "transitionName",
    "children",
    "overlay",
    "onVisibleChange",
    "noop",
    "onEnter",
    "other",
    "zIndex",
    "triggerRef",
    "popupRef",
    "timeoutRef",
    "hoverStateRef",
    "setIsOpen",
    "top",
    "bottom",
    "left",
    "right",
    "current",
    "overlayStyl",
    "setOverlayStyl",
    "child",
    "Children",
    "only",
    "overlayProps",
    "dialogProps",
    "triggerProps",
    "getChildProps",
    "isValidElement",
    "document",
    "addEventListener",
    "handleClickOutside",
    "removeEventListener",
    "e",
    "popNode",
    "childNode",
    "target",
    "clearTimeouts",
    "length",
    "timeoutId",
    "window",
    "clearTimeout",
    "handleShow",
    "handle",
    "setTimeout",
    "push",
    "handleHide",
    "handleMouseOverOut",
    "handler",
    "relatedNative",
    "currentTarget",
    "related",
    "relatedTarget",
    "nativeEvent",
    "handleEnter",
    "node",
    "isAppearing",
    "styls",
    "popup",
    "onClick",
    "onFocus",
    "onMouseOver",
    "onMouseEnter",
    "onMouseOut",
    "onMouseLeave",
    "style",
    "Object",
    "assign",
    "filter",
    "Boolean",
    "join",
    "trim"
  ],
  "mappings": "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",
  "sourcesContent": [
    "import React, {\n  cloneElement,\n  useEffect,\n  useRef,\n  useState,\n  useImperativeHandle,\n} from 'react';\nimport { IProps, noop } from '@uiw/utils';\nimport Overlay, { OverlayProps } from '@uiw/react-overlay';\nimport contains from './utils';\nimport { IBoundingClientRect } from './util/getBoundingClientRect';\nimport { getStyle } from './getStyle';\nimport './style/index.less';\n\nexport interface OverlayTriggerProps extends IProps, OverlayProps {\n  onVisibleChange?: (isVisbale: boolean) => void;\n  onEnter?: (node: HTMLElement, isAppearing: boolean) => void;\n  overlay?: React.ReactNode | any;\n  trigger?: 'click' | 'hover' | 'focus';\n  usePortal?: boolean;\n  isOpen?: boolean;\n  disabled?: boolean;\n  isOutside?: boolean;\n  isClickOutside?: boolean;\n  autoAdjustOverflow?: boolean;\n  placement?: Placement;\n  delay?: Delay;\n}\n\nexport interface OverlayTriggerState {\n  show: boolean;\n  trigger: OverlayTriggerProps['trigger'];\n  overlayStyl: OverlayStyl;\n  transitionName: OverlayProps['transitionName'];\n}\n\nexport type Delay =\n  | number\n  | {\n      show?: number;\n      hide?: number;\n    };\n\nexport type Placement =\n  | 'top'\n  | 'topLeft'\n  | 'topRight'\n  | 'left'\n  | 'leftTop'\n  | 'leftBottom'\n  | 'right'\n  | 'rightTop'\n  | 'rightBottom'\n  | 'bottom'\n  | 'bottomLeft'\n  | 'bottomRight';\n\nexport type OverlayStyl = {\n  placement: Placement;\n  top: number;\n  bottom: number;\n  left: number;\n  right: number;\n  zIndex: number;\n};\n\ninterface ITriggerProps {\n  onClick?: (e: MouseEvent) => void;\n  onFocus?: (e: MouseEvent) => void;\n  onMouseOver?: (e: React.MouseEvent<HTMLElement, MouseEvent>) => void;\n  onMouseOut?: (e: React.MouseEvent<HTMLElement, MouseEvent>) => void;\n  onMouseEnter?: (e: React.MouseEvent<HTMLElement, MouseEvent>) => void;\n  onMouseLeave?: (e: React.MouseEvent<HTMLElement, MouseEvent>) => void;\n}\n\nconst normalizeDelay = (delay?: Delay) =>\n  delay && typeof delay === 'object' ? delay : { show: delay, hide: delay };\n\nexport type OverlayTriggerRef = {\n  hide: () => void;\n  show: () => void;\n};\n\nexport default React.forwardRef<OverlayTriggerRef, OverlayTriggerProps>(\n  (props, ref) => {\n    const {\n      className,\n\n      prefixCls = 'w-overlay-trigger',\n      usePortal = true,\n      isOutside = false,\n      isClickOutside = true,\n      disabled = false,\n      isOpen: _ = false,\n      trigger = 'hover',\n      placement = 'top',\n\n      autoAdjustOverflow,\n      transitionName,\n\n      children,\n      overlay,\n      onVisibleChange = noop,\n      onEnter = noop,\n      ...other\n    } = props;\n\n    const zIndex = useRef<number>(999);\n    const triggerRef = useRef<HTMLElement>();\n    const popupRef = useRef<HTMLElement>();\n    const timeoutRef = useRef<number[]>([]);\n    const hoverStateRef = useRef<'show' | 'hide' | null>(null);\n    const [isOpen, setIsOpen] = useState(!!props.isOpen);\n    const [overlayStyl, setOverlayStyl] = useState<OverlayStyl>({\n      placement,\n      top: 0,\n      bottom: 0,\n      left: 0,\n      right: 0,\n      zIndex: zIndex.current,\n    });\n    useImperativeHandle(ref, () => ({\n      hide: () => hide(),\n      show: () => show(),\n    }));\n\n    const child: any = React.Children.only(children);\n    const overlayProps: OverlayProps = {\n      ...other,\n      placement,\n      isOpen,\n      dialogProps: {},\n    };\n    const triggerProps: ITriggerProps = {};\n\n    function getChildProps() {\n      if (child && React.isValidElement(child)) {\n        return child.props;\n      }\n      return {};\n    }\n\n    useEffect(() => {\n      if (isClickOutside) {\n        document && document.addEventListener('mousedown', handleClickOutside);\n      }\n      return () => {\n        document &&\n          isClickOutside &&\n          document.removeEventListener('mousedown', handleClickOutside);\n      };\n    }, []);\n\n    useEffect(() => {\n      if (props.isOpen !== isOpen) {\n        setIsOpen(!!props.isOpen);\n      }\n    }, [props.isOpen]);\n\n    useEffect(() => {\n      onVisibleChange(isOpen);\n    }, [isOpen]);\n\n    const handleClickOutside = (e: MouseEvent) => {\n      const popNode = popupRef.current;\n      const childNode = triggerRef.current;\n      if (\n        popNode &&\n        childNode &&\n        e.target &&\n        !contains(popNode, e.target as HTMLElement) &&\n        !contains(childNode, e.target as HTMLElement)\n      ) {\n        zIndex.current -= 1;\n        setIsOpen(false);\n        onVisibleChange && onVisibleChange(false);\n      }\n    };\n\n    function clearTimeouts() {\n      if (timeoutRef.current.length > 0) {\n        for (const timeoutId of timeoutRef.current) {\n          window.clearTimeout(timeoutId);\n        }\n        timeoutRef.current = [];\n      }\n    }\n    function handleShow() {\n      clearTimeouts();\n      hoverStateRef.current = 'show';\n\n      const delay = normalizeDelay(props.delay);\n\n      if (!delay.show) {\n        show();\n        return;\n      }\n      const handle = window.setTimeout(() => {\n        if (hoverStateRef.current === 'show') show();\n      }, delay.show);\n      timeoutRef.current.push(handle);\n    }\n\n    function handleHide(isOutside: boolean) {\n      clearTimeouts();\n      if (!isOutside && props.isOutside) return;\n      hoverStateRef.current = 'hide';\n\n      const delay = normalizeDelay(props.delay);\n\n      if (!delay.hide) {\n        hide();\n        return;\n      }\n\n      const handle = window.setTimeout(() => {\n        if (hoverStateRef.current === 'hide') hide();\n      }, delay.hide);\n\n      timeoutRef.current.push(handle);\n    }\n\n    // Simple implementation of mouseEnter and mouseLeave.\n    // React's built version is broken: https://github.com/facebook/react/issues/4251\n    // for cases when the trigger is disabled and mouseOut/Over can cause flicker\n    // moving from one child element to another.\n    function handleMouseOverOut(\n      handler: Function,\n      e: React.MouseEvent,\n      relatedNative: 'fromElement' | 'toElement',\n    ) {\n      const target = e.currentTarget as HTMLElement;\n      const related = (e.relatedTarget ||\n        (e.nativeEvent as any)[relatedNative]) as HTMLElement;\n      let isOutside = true;\n      if (\n        (popupRef.current && contains(popupRef.current, related)) ||\n        (triggerRef.current && contains(triggerRef.current, related))\n      ) {\n        isOutside = false;\n      }\n      if ((!related || related !== target) && !contains(target, related)) {\n        handler(isOutside, e);\n      }\n    }\n\n    function hide() {\n      if (!isOpen) return;\n      zIndex.current -= 1;\n      setIsOpen(false);\n    }\n\n    function show() {\n      if (isOpen) return;\n      zIndex.current += 1;\n      setIsOpen(true);\n    }\n\n    function handleEnter(node: HTMLElement, isAppearing: boolean) {\n      onEnter && onEnter(node, isAppearing);\n      const styls = getStyle({\n        placement: overlayStyl.placement || placement,\n        trigger: triggerRef.current as HTMLElement | IBoundingClientRect,\n        popup: popupRef.current as HTMLElement | IBoundingClientRect,\n        usePortal,\n        autoAdjustOverflow,\n      });\n      setOverlayStyl({ ...styls, zIndex: zIndex.current });\n    }\n\n    if (trigger === 'click' && !disabled) {\n      triggerProps.onClick = (e) => {\n        const { onClick } = getChildProps() as any;\n        isOpen ? hide() : show();\n        if (onClick) onClick(e, !isOpen);\n      };\n    }\n    if (trigger === 'focus' && !disabled) {\n      triggerProps.onFocus = () => handleShow();\n    }\n\n    if (trigger === 'hover' && !disabled) {\n      triggerProps.onMouseOver = triggerProps.onMouseEnter = (e) => {\n        handleMouseOverOut(handleShow, e, 'fromElement');\n      };\n      triggerProps.onMouseOut = triggerProps.onMouseLeave = (e) => {\n        handleMouseOverOut(handleHide, e, 'toElement');\n      };\n      if (overlayProps.dialogProps) {\n        overlayProps.dialogProps!.onMouseLeave = (e) => {\n          handleMouseOverOut(handleHide, e, 'toElement');\n        };\n      }\n    }\n    overlayProps.style = { ...overlayProps.style, ...overlayStyl };\n    return (\n      <React.Fragment>\n        {cloneElement(\n          child,\n          Object.assign({}, child.props, {\n            ...triggerProps,\n            ref: triggerRef,\n            className: [\n              child.props.className,\n              disabled ? `${prefixCls}-disabled` : null,\n            ]\n              .filter(Boolean)\n              .join(' ')\n              .trim(),\n          }),\n        )}\n        <Overlay\n          {...overlayProps}\n          style={{ ...overlayProps.style, ...overlayStyl }}\n          onEnter={handleEnter}\n          className={[prefixCls, className, overlayStyl.placement]\n            .filter(Boolean)\n            .join(' ')\n            .trim()}\n          usePortal={usePortal}\n          transitionName={transitionName}\n          isOpen={isOpen}\n          hasBackdrop={false}\n        >\n          {cloneElement(\n            overlay,\n            Object.assign({\n              ...overlay.props,\n              ref: popupRef,\n              className: [overlay.props && overlay.props.className, placement]\n                .filter(Boolean)\n                .join(' ')\n                .trim(),\n            }),\n          )}\n        </Overlay>\n      </React.Fragment>\n    );\n  },\n);\n"
  ]
}