{
  "version": 3,
  "sources": [
    "../src/index.tsx"
  ],
  "names": [
    "React",
    "useState",
    "useMemo",
    "noop",
    "Rate",
    "props",
    "prefixCls",
    "count",
    "value",
    "defValue",
    "className",
    "allowHalf",
    "character",
    "readOnly",
    "disabled",
    "onChange",
    "onHoverChange",
    "color",
    "other",
    "setValue",
    "hoverCount",
    "setHoverCount",
    "cls",
    "filter",
    "Boolean",
    "join",
    "trim",
    "prevValue",
    "setPrevValue",
    "onMouseLeave",
    "getValue",
    "e",
    "key",
    "persist",
    "currentValue",
    "isLeft",
    "clientX",
    "currentTarget",
    "getBoundingClientRect",
    "left",
    "width",
    "onMouseMove",
    "onClick",
    "Array",
    "map",
    "_",
    "idx",
    "halfon",
    "Math",
    "ceil",
    "activeCls"
  ],
  "mappings": "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",
  "sourcesContent": [
    "import React, { useState, useMemo } from 'react';\nimport { IProps, HTMLDivProps, HTMLSpanProps, noop } from '@uiw/utils';\nimport './style/index.less';\n\nexport interface RateProps extends IProps, Omit<HTMLDivProps, 'onChange'> {\n  value?: number;\n  readOnly?: boolean;\n  allowHalf?: boolean;\n  count?: number;\n  color?: string;\n  disabled?: boolean;\n  character?: React.ReactNode;\n  onChange?: (key: number) => void;\n  onHoverChange?: (key: number) => void;\n}\n\nexport default function Rate(props: RateProps = {}) {\n  const {\n    prefixCls = 'w-rate',\n    count = 5,\n    value: defValue = 0,\n    className,\n    allowHalf,\n    character = 'â˜…',\n    readOnly = false,\n    disabled,\n    onChange = noop,\n    onHoverChange = noop,\n    color,\n    ...other\n  } = props;\n  const [value, setValue] = useState(defValue);\n  const [hoverCount, setHoverCount] = useState(-1);\n  const cls = [prefixCls, className, disabled ? 'disabled' : null]\n    .filter(Boolean)\n    .join(' ')\n    .trim();\n  const [prevValue, setPrevValue] = useState<number>();\n  if (defValue !== prevValue) {\n    setPrevValue(defValue);\n  }\n\n  useMemo(() => {\n    if (value !== prevValue) {\n      setValue(defValue);\n    }\n  }, [prevValue]);\n\n  function onMouseLeave() {\n    setHoverCount(-1);\n  }\n\n  function getValue(e: React.MouseEvent<HTMLElement>, key: number) {\n    e.persist();\n    let currentValue = key;\n    const isLeft =\n      e.clientX - e.currentTarget.getBoundingClientRect().left <=\n      e.currentTarget.getBoundingClientRect().width / 2;\n    if (allowHalf) {\n      e.persist();\n      currentValue = isLeft ? key + 0.5 : key + 1;\n    } else {\n      currentValue = key + 1;\n    }\n    return currentValue;\n  }\n\n  function onMouseMove(e: React.MouseEvent<HTMLElement>, key: number) {\n    const currentValue = getValue(e, key);\n    if (hoverCount !== currentValue) {\n      setHoverCount(currentValue);\n      onHoverChange(currentValue);\n    }\n  }\n  function onClick(e: React.MouseEvent<HTMLElement>, key: number) {\n    if (readOnly) return;\n    const currentValue = getValue(e, key);\n    setValue(currentValue);\n    onChange(currentValue);\n  }\n  return (\n    <div {...other} className={cls} onMouseLeave={() => onMouseLeave()}>\n      {[...Array(count)].map((_, idx) => {\n        const halfon =\n          (value <= idx + 0.5 &&\n            Math.ceil(value) - 1 === idx &&\n            hoverCount === -1) ||\n          hoverCount === idx + 0.5;\n        const activeCls = [\n          `${prefixCls}-hight`,\n          idx + 1 <= value && hoverCount === -1 ? 'star-on' : null,\n          idx + 1 <= hoverCount ? 'hover-on' : null,\n          halfon ? 'half-on' : null,\n        ]\n          .filter(Boolean)\n          .join(' ')\n          .trim();\n        const props: HTMLSpanProps = {};\n        if (!readOnly) {\n          props.onClick = (e) => onClick(e, idx);\n          props.onMouseMove = (e) => onMouseMove(e, idx);\n        }\n        return (\n          <span key={idx} {...props}>\n            <span style={{ color }} className={activeCls}>\n              {character}\n            </span>\n            <span className={`${prefixCls}-bg`}>{character}</span>\n          </span>\n        );\n      })}\n    </div>\n  );\n}\n"
  ]
}