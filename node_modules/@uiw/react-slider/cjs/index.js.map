{
  "version": 3,
  "sources": [
    "../src/index.tsx"
  ],
  "names": [
    "Slider",
    "props",
    "prefixCls",
    "value",
    "min",
    "max",
    "dots",
    "step",
    "disabled",
    "progress",
    "tooltip",
    "className",
    "marks",
    "renderMarks",
    "vertical",
    "onChange",
    "other",
    "bar",
    "React",
    "useRef",
    "slider",
    "indexBar",
    "startX",
    "curValue",
    "barWidth",
    "barOffsetLeft",
    "move",
    "Array",
    "isArray",
    "arrValue",
    "setArrValue",
    "onClick",
    "evn",
    "current",
    "undefined",
    "markOffset",
    "getBoundingClientRect",
    "vals",
    "getWidthToValue",
    "curr",
    "getRangeValue",
    "handleChange",
    "val",
    "newData",
    "val1",
    "val2",
    "half",
    "length",
    "width",
    "equal",
    "percent",
    "num",
    "numFloor",
    "Math",
    "floor",
    "onHandleBtnDown",
    "idx",
    "env",
    "window",
    "addEventListener",
    "onDragging",
    "onDragEnd",
    "valueToWidth",
    "barStyl",
    "getStyle",
    "style",
    "left",
    "right",
    "removeEventListener",
    "stepArray",
    "stepWidth",
    "result",
    "i",
    "push",
    "getValueToPercent",
    "leftValue",
    "rightValue",
    "getLabelValue",
    "label",
    "filter",
    "Boolean",
    "join",
    "trim",
    "backgroundColor",
    "map",
    "item",
    "lleftPostion",
    "stepValue",
    "mark"
  ],
  "mappings": "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",
  "sourcesContent": [
    "import React, { useEffect, useState } from 'react';\nimport { IProps, HTMLDivProps } from '@uiw/utils';\nimport Dots from './Dots';\nimport './style/index.less';\n\nexport type SliderMarks = {\n  style?: React.CSSProperties;\n  label?: React.ReactNode;\n};\n\nexport interface SliderProps extends IProps, Omit<HTMLDivProps, 'onChange'> {\n  value?: number | number[];\n  min?: number;\n  max?: number;\n  marks?: boolean | Record<number, SliderMarks>;\n  dots?: boolean;\n  range?: boolean;\n  vertical?: boolean;\n  step?: number;\n  disabled?: boolean;\n  tooltip?: boolean;\n  progress?: boolean | string;\n  renderMarks?: (value: number) => JSX.Element;\n  onChange?: (value: number | number[]) => void;\n  onClick?: (e: React.MouseEvent<HTMLElement>) => void;\n}\n\nexport default function Slider(props: SliderProps) {\n  const {\n    prefixCls = 'w-slider',\n    value = 0,\n    min = 0,\n    max = 100,\n    dots = false,\n    step = 1,\n    disabled = false,\n    progress = true,\n    tooltip = false,\n    className,\n    marks,\n    renderMarks,\n    vertical,\n    onChange,\n    ...other\n  } = props;\n\n  const bar = React.useRef<HTMLDivElement>(null);\n  const slider = React.useRef<HTMLDivElement>(null);\n  const indexBar = React.useRef<number>();\n  const startX = React.useRef<number>();\n  const curValue = React.useRef<number | number[]>();\n  const barWidth = React.useRef<number>();\n  const barOffsetLeft = React.useRef<number>();\n  const move = React.useRef<boolean>();\n  const [arrValue, setArrValue] = useState(\n    Array.isArray(value) ? value : [value],\n  );\n\n  useEffect(() => setArrValue(Array.isArray(value) ? value : [value]), [value]);\n\n  other.onClick = (evn: React.MouseEvent<HTMLElement>) => {\n    if (move.current !== undefined) {\n      return;\n    }\n    const markOffset = slider.current!.getBoundingClientRect();\n    const vals = getWidthToValue(\n      evn[vertical ? 'clientY' : 'clientX'] - markOffset[vertical ? 'y' : 'x'],\n    );\n    const curr = getRangeValue(vals);\n    handleChange(curr);\n  };\n\n  function getRangeValue(val: number | number[]) {\n    if (!Array.isArray(value)) {\n      return Array.isArray(val) ? val : [val];\n    }\n    const newData = [...arrValue];\n    const val1 = newData[0];\n    const val2 = newData[1];\n    if ((val1 < val2 && val1 > val) || (val1 > val2 && val1 < val)) {\n      newData[0] = val as number;\n    }\n    if ((val1 < val2 && val2 < val) || (val1 > val2 && val2 > val)) {\n      newData[1] = val as number;\n    }\n\n    if (val1 > val && val2 < val) {\n      const half = val2 + (val1 - val2) / 2;\n      if (half >= val) {\n        newData[1] = val as number;\n      }\n      if (half < val) {\n        newData[0] = val as number;\n      }\n    }\n    if (val2 > val && val1 < val) {\n      const half = val1 + (val2 - val1) / 2;\n      if (half >= val) {\n        newData[0] = val as number;\n      }\n      if (half < val) {\n        newData[1] = val as number;\n      }\n    }\n    return newData;\n  }\n\n  function handleChange(val: number[]) {\n    setArrValue([...val]);\n    onChange && onChange(arrValue.length === 1 ? val[0] : val);\n  }\n\n  function getWidthToValue(width: number) {\n    const equal = (max - min) / step;\n    let percent = 0;\n    if (slider.current) {\n      percent =\n        (width / slider.current[vertical ? 'clientHeight' : 'clientWidth']) *\n        100;\n    }\n\n    if (percent <= 0) {\n      percent = 0;\n    }\n    if (percent >= 100) {\n      percent = 100;\n    }\n\n    const num = equal * (percent / 100) + 0.5;\n    const numFloor = Math.floor(num);\n    const vals = numFloor * step + min;\n    return vals;\n  }\n\n  function onHandleBtnDown(idx: number, env: React.MouseEvent<HTMLElement>) {\n    if (disabled) {\n      return;\n    }\n    indexBar.current = idx;\n    move.current = true;\n    startX.current = env[vertical ? 'clientY' : 'clientX'];\n    if (bar.current) {\n      barWidth.current = bar.current[vertical ? 'clientHeight' : 'clientWidth'];\n      barOffsetLeft.current =\n        bar.current[vertical ? 'offsetTop' : 'offsetLeft'];\n    }\n    const vals = [...arrValue];\n    if (Array.isArray(value)) {\n      barWidth.current =\n        (indexBar.current === 1 && vals[1] > vals[0]) ||\n        (indexBar.current !== 1 && vals[0] > vals[1])\n          ? barWidth.current! + barOffsetLeft.current!\n          : barOffsetLeft.current;\n    }\n    window.addEventListener('mousemove', onDragging);\n    window.addEventListener('mouseup', onDragEnd);\n  }\n  function onDragging(\n    env: MouseEvent | React.MouseEvent<HTMLButtonElement, MouseEvent>,\n  ) {\n    if (!move.current) {\n      return;\n    }\n    const vals = [...arrValue];\n    const valueToWidth = getWidthToValue(\n      env[vertical ? 'clientY' : 'clientX'] -\n        startX.current! +\n        barWidth.current!,\n    );\n    if (valueToWidth !== curValue.current) {\n      vals[indexBar.current!] = valueToWidth;\n      const barStyl = getStyle(vals);\n      if (bar.current) {\n        bar.current.style[vertical ? 'top' : 'left'] = barStyl.left;\n        bar.current.style[vertical ? 'bottom' : 'right'] = barStyl.right;\n      }\n      handleChange(vals);\n      curValue.current = valueToWidth;\n    }\n  }\n  function onDragEnd() {\n    move.current = undefined;\n    window.removeEventListener('mousemove', onDragging, false);\n    window.removeEventListener('mouseup', onDragEnd, false);\n  }\n\n  const stepArray = () => {\n    const equal = (max - min) / step;\n    const stepWidth = (100 * step) / (max - min);\n    const result = [0];\n    for (let i = 1; i < equal; i += 1) {\n      result.push(i * stepWidth);\n    }\n    result.push(100);\n    return result;\n  };\n  function getValueToPercent(vals: number) {\n    return ((vals - min) * 100) / (max - min);\n  }\n\n  function getStyle(val?: number[]) {\n    val = val || arrValue;\n    const barStyl = { left: '0%', right: '100%' };\n    if (!Array.isArray(value)) {\n      barStyl.right = `${100 - getValueToPercent(val[0])}%`;\n    } else {\n      const leftValue = val[0] > val[1] ? val[1] : val[0];\n      const rightValue = val[0] > val[1] ? val[0] : val[1];\n      barStyl.left = `${getValueToPercent(leftValue)}%`;\n      barStyl.right = `${100 - getValueToPercent(rightValue)}%`;\n    }\n    return barStyl;\n  }\n\n  function getLabelValue(val: number) {\n    if (marks && marks !== true && marks[val] && marks[val].label) {\n      return marks[val].label;\n    } else if (\n      marks &&\n      marks !== true &&\n      marks[val] &&\n      typeof marks[val] === 'string'\n    ) {\n      return marks[val];\n    } else if (\n      renderMarks &&\n      typeof renderMarks === 'function' &&\n      renderMarks(val)\n    ) {\n      return renderMarks(val);\n    }\n    return val;\n  }\n\n  const barStyl = getStyle();\n  if (disabled) {\n    delete other.onClick;\n  }\n  return (\n    <div\n      ref={slider}\n      className={[\n        prefixCls,\n        className,\n        disabled ? 'disabled' : null,\n        marks ? `${prefixCls}-with-marks` : null,\n        vertical ? `${prefixCls}-vertical` : null,\n      ]\n        .filter(Boolean)\n        .join(' ')\n        .trim()}\n      {...other}\n    >\n      <div\n        ref={bar}\n        className={`${prefixCls}-bar`}\n        style={{\n          [vertical ? 'top' : 'left']: barStyl.left,\n          [vertical ? 'bottom' : 'right']: barStyl.right,\n          ...(progress !== true\n            ? { backgroundColor: progress || 'initial' }\n            : {}),\n        }}\n      />\n      {[...arrValue].map((item, idx) => {\n        const lleftPostion = getValueToPercent(item);\n        return (\n          <div\n            key={idx}\n            className={`${prefixCls}-handle`}\n            onMouseDown={(evn) => onHandleBtnDown(idx, evn)}\n            style={{ [vertical ? 'top' : 'left']: `${lleftPostion}%` }}\n          >\n            {(tooltip || tooltip === false) && (\n              <div\n                className={[`${prefixCls}-tooltip`, tooltip ? 'open' : null]\n                  .filter(Boolean)\n                  .join(' ')\n                  .trim()}\n              >\n                {getLabelValue(item)}\n              </div>\n            )}\n          </div>\n        );\n      })}\n      {dots && (\n        <Dots\n          prefixCls={prefixCls}\n          min={min}\n          step={step}\n          marks={marks}\n          vertical={!!vertical}\n          data={stepArray()}\n          markRender={(stepValue, mark = {}) => {\n            if (!mark) {\n              return <div> {getLabelValue(stepValue)} </div>;\n            }\n            const other = typeof mark === 'object' ? mark : {};\n            delete other.label;\n            return <div {...other}> {getLabelValue(stepValue)} </div>;\n          }}\n        />\n      )}\n    </div>\n  );\n}\n"
  ]
}