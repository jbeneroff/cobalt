{
  "version": 3,
  "sources": [
    "../src/index.tsx"
  ],
  "names": [
    "isContained",
    "a",
    "b",
    "Array",
    "length",
    "aStr",
    "toString",
    "i",
    "len",
    "indexOf",
    "getChildKeys",
    "childs",
    "result",
    "forEach",
    "item",
    "push",
    "key",
    "children",
    "concat",
    "getParentKeys",
    "parent",
    "getParentSelectKeys",
    "selectedKeys",
    "Tree",
    "props",
    "prefixCls",
    "icon",
    "data",
    "openKeys",
    "defaultExpandAll",
    "showLine",
    "iconAnimation",
    "isSelected",
    "checkStrictly",
    "multiple",
    "onExpand",
    "noop",
    "onSelected",
    "className",
    "autoExpandParent",
    "renderTitle",
    "elementProps",
    "curOpenKeys",
    "setCurOpenKeys",
    "curSelectedKeys",
    "setCurSelectedKeys",
    "arrOpenKeys",
    "cls",
    "filter",
    "Boolean",
    "join",
    "trim",
    "onItemClick",
    "evn",
    "currentKeys",
    "find",
    "v",
    "currentTarget",
    "replace",
    "expanded",
    "onItemSelected",
    "selKeys",
    "findKey",
    "selected",
    "val",
    "from",
    "Set"
  ],
  "mappings": "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",
  "sourcesContent": [
    "import React, { useEffect, useState } from 'react';\nimport { IconProps } from '@uiw/react-icon';\nimport { IProps, HTMLDivProps, noop } from '@uiw/utils';\nimport TreeNode from './TreeNode';\nimport './style/index.less';\n\nexport type TreeRenderTitleNode<T> = {\n  selected?: boolean;\n  noChild?: boolean;\n  isHalfChecked?: boolean;\n  openKeys?: TreeProps<T>['openKeys'];\n  selectedKeys?: TreeProps<T>['selectedKeys'];\n};\n\nexport interface TreeProps<T> extends IProps, HTMLDivProps {\n  icon?: IconProps<T>['type'];\n  data?: TreeData[];\n  openKeys?: TreeData['key'][];\n  selectedKeys?: TreeData['key'][];\n  defaultExpandAll?: boolean;\n  /**\n   * 是否自动展开父节点\n   */\n  autoExpandParent?: boolean;\n  /**\n   * 是否展示连接线\n   */\n  showLine?: boolean;\n  iconAnimation?: boolean;\n  isSelected?: boolean;\n  /**\n   * 子节点受父节点控制设置 `true`，需要配合 `multiple` 参数使用。\n   */\n  checkStrictly?: boolean;\n  /**\n   * 支持点选多个节点\n   */\n  multiple?: boolean;\n  renderTitle?: (\n    item: TreeData,\n    node: TreeRenderTitleNode<T>,\n  ) => React.ReactElement;\n  onExpand?: (\n    key: TreeData['key'],\n    expanded: boolean,\n    item: TreeData,\n    evn: React.MouseEvent<HTMLElement>,\n  ) => void;\n  onSelected?: (\n    keys: TreeData['key'][],\n    key: TreeData['key'],\n    selected: boolean,\n    item: TreeData,\n    evn: React.MouseEvent<HTMLElement>,\n  ) => void;\n}\n\nexport interface TreeData {\n  label?: React.ReactNode;\n  children?: TreeData[];\n  key?: string | number;\n  [keyName: string]: any;\n}\n\n/**\n * a contains b\n * @param {Array} a\n * @param {Array} b\n */\nconst isContained = (a: any[], b: any[]) => {\n  if (!(a instanceof Array) || !(b instanceof Array)) return false;\n  if (a.length < b.length) return false;\n  const aStr = a.toString();\n  for (let i = 0, len = b.length; i < len; i += 1) {\n    if (aStr.indexOf(b[i]) === -1) return false;\n  }\n  return true;\n};\n\nexport const getChildKeys = (\n  childs: TreeData[] = [],\n  result: TreeData['key'][] = [],\n): TreeData['key'][] => {\n  childs.forEach((item) => {\n    result.push(item.key as string | number);\n    if (item.children && item.children.length > 0) {\n      result = result.concat(getChildKeys(item.children));\n    }\n  });\n  return result;\n};\n\nconst getParentKeys = (\n  childs: TreeData = {},\n  result: TreeData['key'][] = [],\n) => {\n  if (childs.key) {\n    result.push(childs.key);\n  }\n  if (childs.parent) {\n    result = getParentKeys(childs.parent, result);\n  }\n  return result;\n};\n\nconst getParentSelectKeys = (\n  childs: TreeData = {},\n  selectedKeys: TreeData['key'][] = [],\n  result: TreeData['key'][] = [],\n) => {\n  if (\n    childs.key &&\n    childs.children &&\n    isContained(selectedKeys, getChildKeys(childs.children))\n  ) {\n    result.push(childs.key);\n    if (childs.parent && !childs.parent.parent) {\n      if (isContained(selectedKeys, getChildKeys(childs.children))) {\n        selectedKeys = selectedKeys.concat(result);\n      }\n      if (isContained(selectedKeys, getChildKeys(childs.parent.children))) {\n        result.push(childs.parent.key);\n      }\n    }\n  }\n  if (childs.parent) {\n    result = getParentSelectKeys(childs.parent, selectedKeys, result);\n  }\n  return result;\n};\n\nexport default function Tree<T>(props: TreeProps<T>) {\n  const {\n    prefixCls = 'w-tree',\n    icon = 'caret-right',\n    data = [],\n    openKeys = [],\n    selectedKeys = [],\n    defaultExpandAll = false,\n    showLine = false,\n    iconAnimation = true,\n    isSelected = true,\n    checkStrictly = false,\n    multiple = false,\n    onExpand = noop,\n    onSelected = noop,\n\n    className,\n    autoExpandParent,\n    renderTitle,\n    ...elementProps\n  } = props;\n\n  const [curOpenKeys, setCurOpenKeys] = useState(openKeys);\n  const [curSelectedKeys, setCurSelectedKeys] = useState(selectedKeys);\n\n  // useEffect(() => setCurOpenKeys(openKeys), [openKeys]);\n  // useEffect(() => setCurSelectedKeys(selectedKeys), [selectedKeys]);\n\n  useEffect(() => {\n    const arrOpenKeys = getChildKeys(data);\n    if (defaultExpandAll) {\n      setCurOpenKeys(arrOpenKeys);\n    }\n  }, []);\n\n  const cls = [className, prefixCls, showLine ? `${prefixCls}-line` : null]\n    .filter(Boolean)\n    .join(' ')\n    .trim();\n\n  function onItemClick(item: TreeData, evn: React.MouseEvent<HTMLElement>) {\n    if (!item.children) {\n      return;\n    }\n    // const { onExpand } = this.props;\n    // const { openKeys } = this.state;\n    let currentKeys = [...(curOpenKeys as TreeData['key'][])];\n    const key = currentKeys.find((v) => v === item.key);\n    const cls = evn.currentTarget.className.replace(/(\\s)open/g, '');\n    let expanded = false;\n    if (!key && item.key) {\n      currentKeys.push(item.key);\n      evn.currentTarget.className = [cls, 'open']\n        .filter(Boolean)\n        .join(' ')\n        .trim();\n      expanded = true;\n    } else {\n      currentKeys = currentKeys.filter((v) => v !== item.key);\n      evn.currentTarget.className = cls;\n    }\n    setCurOpenKeys(currentKeys);\n    onExpand && onExpand(item.key, expanded, item, evn);\n  }\n  function onItemSelected(item: TreeData, evn: React.MouseEvent<HTMLElement>) {\n    // const { onSelected, multiple, checkStrictly } = this.props;\n    let selKeys = [...(curSelectedKeys as TreeData['key'][])];\n    const findKey = selKeys.find((v) => v === item.key);\n    let selected = false;\n    if (!findKey) {\n      selected = true;\n      selKeys.push(item.key);\n    } else {\n      selKeys = selKeys.filter((v) => v !== item.key);\n    }\n    if (checkStrictly) {\n      if (!findKey) {\n        selKeys = selKeys.concat(\n          getChildKeys(item.children).filter(\n            (val) => selKeys.indexOf(val) === -1,\n          ),\n        );\n        selKeys = selKeys.concat(getParentSelectKeys(item, selKeys));\n        selKeys = Array.from(new Set(selKeys)); // Remove duplicates.\n      } else {\n        selKeys = selKeys.filter(\n          (val) => getChildKeys(item.children).indexOf(val) === -1,\n        );\n        selKeys = selKeys.filter(\n          (val) => getParentKeys(item.parent).indexOf(val) === -1,\n        );\n      }\n    }\n    if (!multiple) {\n      selKeys = !findKey ? [item.key] : [];\n    }\n    setCurSelectedKeys(selKeys);\n    onSelected && onSelected(selKeys, item.key, selected, item, evn);\n  }\n  return (\n    <div className={cls} {...elementProps}>\n      <TreeNode\n        {...{\n          icon,\n          iconAnimation,\n          isSelected,\n          openKeys: curOpenKeys,\n          selectedKeys: curSelectedKeys,\n          prefixCls,\n          renderTitle,\n        }}\n        onItemClick={onItemClick}\n        onItemSelected={onItemSelected}\n        data={data}\n        level={1}\n      />\n    </div>\n  );\n}\n"
  ]
}