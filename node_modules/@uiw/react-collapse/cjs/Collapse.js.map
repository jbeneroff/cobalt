{
  "version": 3,
  "sources": [
    "../src/Collapse.tsx"
  ],
  "names": [
    "toArray",
    "activeKey",
    "currentActiveKey",
    "Array",
    "isArray",
    "InternalCollapse",
    "props",
    "ref",
    "prefixCls",
    "className",
    "children",
    "accordion",
    "bordered",
    "showArrow",
    "propsActiveKey",
    "onChange",
    "resetProps",
    "setActiveKey",
    "cls",
    "filter",
    "Boolean",
    "join",
    "trim",
    "onItemClick",
    "key",
    "keys",
    "index",
    "indexOf",
    "isActive",
    "splice",
    "push",
    "React",
    "Children",
    "map",
    "child",
    "String",
    "disabled",
    "childProps",
    "cloneElement",
    "Collapse",
    "forwardRef",
    "Panel"
  ],
  "mappings": "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",
  "sourcesContent": [
    "import React, { useState, useMemo } from 'react';\nimport { IProps, HTMLDivProps } from '@uiw/utils';\nimport Panel from './Panel';\nimport './style/index.less';\n\nexport interface CollapseProps extends IProps, Omit<HTMLDivProps, 'onChange'> {\n  accordion?: boolean;\n  activeKey?: string | string[];\n  bordered?: boolean;\n  showArrow?: boolean;\n  onChange?: (activeKey: string[]) => void;\n}\n\nexport interface CollapseState {\n  activeKey: string[];\n}\n\nfunction toArray(activeKey: CollapseProps['activeKey']) {\n  let currentActiveKey = activeKey;\n  if (!Array.isArray(currentActiveKey)) {\n    currentActiveKey = currentActiveKey ? [currentActiveKey] : [];\n  }\n  return currentActiveKey;\n}\n\nfunction InternalCollapse(\n  props: CollapseProps,\n  ref: React.ForwardedRef<HTMLDivElement>,\n) {\n  const {\n    prefixCls = 'w-collapse',\n    className,\n    children,\n    accordion = false,\n    bordered,\n    showArrow = true,\n    activeKey: propsActiveKey,\n    onChange,\n    ...resetProps\n  } = props;\n  const [activeKey, setActiveKey] = useState(toArray(propsActiveKey));\n  const cls = [prefixCls, className, bordered ? 'w-noborder' : null]\n    .filter(Boolean)\n    .join(' ')\n    .trim();\n  function onItemClick(key: string) {\n    let keys = activeKey;\n    if (accordion) {\n      keys = keys[0] === key ? [] : [key];\n    } else {\n      keys = [...keys];\n      const index = keys.indexOf(key);\n      const isActive = index > -1;\n      if (isActive) {\n        keys.splice(index, 1);\n      } else {\n        keys.push(key);\n      }\n    }\n    setActiveKey(keys);\n  }\n  useMemo(() => {\n    if (propsActiveKey !== activeKey) {\n      setActiveKey(toArray(propsActiveKey));\n    }\n  }, [propsActiveKey]);\n  useMemo(() => {\n    if (propsActiveKey !== activeKey) {\n      onChange && onChange(activeKey);\n    }\n  }, [activeKey, propsActiveKey]);\n  return (\n    <div className={cls} {...resetProps} ref={ref}>\n      {React.Children.map(children, (child: any, index) => {\n        // 如果没有密钥提供，请使用面板顺序作为默认密钥\n        const key = child.key || String(index);\n        const { disabled } = child.props;\n        let isActive = false;\n        if (accordion) {\n          // 手风琴模式下默认选择第一个\n          isActive = activeKey[0] === key;\n        } else {\n          isActive = activeKey.indexOf(key) > -1;\n        }\n        const childProps = {\n          prefixCls,\n          isActive,\n          disabled,\n          showArrow,\n          onItemClick: disabled ? () => {} : () => onItemClick(key),\n          ...child.props,\n        };\n        return React.cloneElement(child, childProps);\n      })}\n    </div>\n  );\n}\n\nconst Collapse = React.forwardRef<HTMLDivElement, CollapseProps>(\n  InternalCollapse,\n);\ntype Collapse = typeof Collapse & {\n  Panel: typeof Panel;\n};\n\n(Collapse as Collapse).Panel = Panel;\n\nexport default Collapse as Collapse;\n"
  ]
}